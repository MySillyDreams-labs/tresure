# Test Environment Configuration
# H2 In-Memory Database for Testing

# Database Configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.platform=h2

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.defer-datasource-initialization=true

# SQL Initialization
spring.sql.init.mode=never

# Server Configuration
server.port=0
server.servlet.context-path=/treasurehunt

# Logging Configuration (Minimal for tests)
logging.level.com.treasurehunt=WARN
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.web=WARN

# File Storage Configuration
app.file-storage.upload-dir=test-uploads/documents
app.file-storage.image-dir=test-uploads/images
app.file-storage.temp-dir=test-uploads/temp
app.file-storage.max-file-size=1048576
app.file-storage.max-image-size=524288

# Email Configuration (Mock for Testing)
app.email.from-address=test@treasurehunt-test.com
app.email.support-address=support@treasurehunt-test.com
app.email.company-name=Treasure Hunt Adventures (TEST)
app.email.mock-enabled=true
app.email.retry-attempts=1
app.email.retry-delay-ms=100

# Security Configuration
app.security.admin.username=testadmin
app.security.admin.password=testpass
app.security.admin.session-timeout-minutes=5
app.security.session.max-concurrent-sessions=1
app.security.session.prevent-login=false
app.security.session.timeout-minutes=5
app.security.file-security.virus-scan-enabled=false
app.security.file-security.max-scan-size-bytes=1048576
app.security.file-security.quarantine-enabled=false
app.security.file-security.quarantine-dir=test-quarantine

# Performance Configuration
app.performance.cache.enabled=false
app.performance.cache.treasure-hunt-plans-ttl-seconds=10
app.performance.cache.featured-plan-ttl-seconds=10
app.performance.cache.app-settings-ttl-seconds=10
app.performance.database.max-pool-size=5
app.performance.database.min-idle=1
app.performance.database.connection-timeout-ms=5000
app.performance.database.idle-timeout-ms=60000
app.performance.async.email-core-pool-size=1
app.performance.async.email-max-pool-size=2
app.performance.async.email-queue-capacity=10
app.performance.async.email-keep-alive-seconds=10

# Business Configuration
app.business.min-participant-age=18
app.business.max-team-size=6
app.business.min-team-size=2
app.business.registration-timeout-hours=1
app.business.allow-cancellation=true
app.business.cancellation-deadline-hours=1

# Monitoring Configuration
app.monitoring.enabled=false
app.monitoring.interval-seconds=60
app.monitoring.memory-warning-threshold=80
app.monitoring.memory-critical-threshold=90
app.monitoring.thread-warning-threshold=50
app.monitoring.thread-critical-threshold=100

# Cleanup Configuration
app.cleanup.file-retention-days=1
app.cleanup.log-retention-days=1

# HikariCP Configuration (for testing)
app.datasource.hikari.enabled=true
app.datasource.hikari.maximum-pool-size=5
app.datasource.hikari.minimum-idle=1
app.datasource.hikari.connection-timeout=5000
app.datasource.hikari.idle-timeout=60000
app.datasource.hikari.max-lifetime=300000
app.datasource.hikari.leak-detection-threshold=10000

# Application Information
app.name=Treasure Hunt Application (TEST)
app.version=1.0.0-TEST
app.description=Test environment for treasure hunt application

# Test Flags
app.dev.auto-create-admin=false
app.dev.auto-create-sample-data=false
app.dev.enable-debug-endpoints=false
