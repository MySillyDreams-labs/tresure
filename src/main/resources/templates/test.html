<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .register-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        .register-btn:hover {
            background-color: #0056b3;
        }
        .log {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>JavaScript Test Page</h1>
    
    <div class="test-section">
        <h2>Basic JavaScript Test</h2>
        <p>This page tests if JavaScript is loading and executing properly.</p>
        <div id="jsStatus">JavaScript NOT loaded</div>
    </div>

    <div class="test-section">
        <h2>Register Button Test</h2>
        <p>These buttons simulate the register buttons from the main page:</p>
        
        <button type="button" 
                class="register-btn"
                data-plan-id="1"
                data-plan-name="Test Plan"
                data-plan-price="29.99"
                data-team-size="1"
                data-team-type="INDIVIDUAL">
            Register for Individual Plan
        </button>
        
        <button type="button" 
                class="register-btn"
                data-plan-id="2"
                data-plan-name="Team Test Plan"
                data-plan-price="24.99"
                data-team-size="2"
                data-team-type="TEAM">
            Register for Team Plan
        </button>
    </div>

    <div class="test-section">
        <h2>Test Functions</h2>
        <button onclick="testRegisterButtons()">Test Register Buttons</button>
        <button onclick="clearLog()">Clear Log</button>
    </div>

    <div class="test-section">
        <h2>Event Log</h2>
        <div id="eventLog" class="log">Waiting for events...</div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/js/app.js"></script>
    
    <script>
        // Test script to verify JavaScript is working
        console.log('🧪 Test page JavaScript loaded');
        
        // Update status
        document.getElementById('jsStatus').innerHTML = '✅ JavaScript loaded successfully!';
        document.getElementById('jsStatus').style.color = 'green';
        
        // Log function
        function logEvent(message) {
            const log = document.getElementById('eventLog');
            const timestamp = new Date().toLocaleTimeString();
            log.innerHTML += `[${timestamp}] ${message}\n`;
            console.log(message);
        }
        
        function clearLog() {
            document.getElementById('eventLog').innerHTML = 'Log cleared...\n';
        }
        
        // Test if our app.js functions are available
        setTimeout(() => {
            logEvent('🔍 Checking if app.js functions are available...');
            
            if (typeof testRegisterButtons === 'function') {
                logEvent('✅ testRegisterButtons function found');
            } else {
                logEvent('❌ testRegisterButtons function NOT found');
            }
            
            if (typeof handleRegistrationClick === 'function') {
                logEvent('✅ handleRegistrationClick function found');
            } else {
                logEvent('❌ handleRegistrationClick function NOT found');
            }
            
            // Check if register buttons have event listeners
            const buttons = document.querySelectorAll('.register-btn');
            logEvent(`🔘 Found ${buttons.length} register buttons`);
            
            buttons.forEach((btn, index) => {
                logEvent(`Button ${index + 1}: ${btn.dataset.planName} (${btn.dataset.teamType})`);
            });
            
        }, 1000);
        
        // Add click listeners to log button clicks
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('register-btn')) {
                logEvent(`🔥 Register button clicked: ${event.target.dataset.planName}`);
            }
        });
        
        // Log DOM ready
        document.addEventListener('DOMContentLoaded', function() {
            logEvent('📄 DOM Content Loaded event fired');
        });
        
        logEvent('🚀 Test page script initialized');
    </script>
</body>
</html>
