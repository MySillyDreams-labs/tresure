2025-08-01 00:00:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:00:56 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:00:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:00:56 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:00:56 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:00:56 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:00:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 00:00:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:00:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:00:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:00:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:00:56 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:00:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-queue
2025-08-01 00:00:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/email-queue?continue to session
2025-08-01 00:00:59 [http-nio-8080-exec-8] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:00:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:00:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:00:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:00:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 00:00:59 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:00:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:00:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:00:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-queue
2025-08-01 00:01:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/email-queue?continue to session
2025-08-01 00:01:03 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-queue?status=SENT
2025-08-01 00:01:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/email-queue?status=SENT&continue to session
2025-08-01 00:01:03 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 00:01:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/email-campaigns/statistics?continue to session
2025-08-01 00:01:03 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:01:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:01:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-queue
2025-08-01 00:01:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/email-queue?continue to session
2025-08-01 00:01:18 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:01:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:01:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:01:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:01:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.EmailQueueService - Found 1 emails ready to send
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: sarah.wilson@example.com
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService - 📧 MOCK MIME EMAIL SENT #5
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    To: sarah.wilson@example.com
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    From: noreply@treasurehunt.com
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    Subject: null
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    Content-Type: text/plain
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    Content Preview: 
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.MockEmailService -    ✅ MIME Email #5 delivered successfully (MOCK)
2025-08-01 00:01:54 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 00:02:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:03:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:03:54 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:04:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:05:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:06:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:07:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:08:54 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:08:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:09:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:10:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:11:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:12:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:13:24 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:13:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:13:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:13:38 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 12108 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:13:38 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:13:38 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:13:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:13:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 6 JPA repository interfaces.
2025-08-01 00:13:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:13:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:13:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:13:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:13:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1119 ms
2025-08-01 00:13:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:13:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:13:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:13:39 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:13:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:13:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:13:39 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:13:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:13:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:13:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:13:41 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:13:41 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:13:41 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:13:41 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:13:41 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:13:42 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:13:42 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:13:42 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:13:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7241d973, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4330f93c, org.springframework.security.web.context.SecurityContextHolderFilter@3b02d444, org.springframework.security.web.header.HeaderWriterFilter@39487f70, org.springframework.web.filter.CorsFilter@ad194d1, org.springframework.security.web.csrf.CsrfFilter@363476ca, org.springframework.security.web.authentication.logout.LogoutFilter@2e1777d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fd97710, org.springframework.security.web.session.ConcurrentSessionFilter@2184aa59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d314e63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aea0fc2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@efb30da, org.springframework.security.web.session.SessionManagementFilter@ce7e450, org.springframework.security.web.access.ExceptionTranslationFilter@71b4f4a1, org.springframework.security.web.access.intercept.AuthorizationFilter@67b37f23]
2025-08-01 00:13:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:13:43 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.038 seconds (process running for 5.315)
2025-08-01 00:13:43 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:13:43 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:13:43 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:13:43 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 00:13:43 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 00:13:43 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 00:13:43 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 00:14:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:14:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:14:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 00:14:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:14:41 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:14:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:14:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:14:42 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:14:42 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:14:42 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:14:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:14:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:14:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:14:42 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:14:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:43 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 00:14:45 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 00:15:43 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:16:43 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:17:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:17:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:17:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:17:29 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 21192 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:17:29 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:17:29 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:17:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:17:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 6 JPA repository interfaces.
2025-08-01 00:17:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:17:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:17:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:17:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:17:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1095 ms
2025-08-01 00:17:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:17:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:17:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:17:30 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:17:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:17:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:17:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:17:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:17:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:17:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:17:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:17:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:17:32 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:17:32 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:17:32 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:17:33 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:17:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:17:33 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:17:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 00:17:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:17:34 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.043 seconds (process running for 5.334)
2025-08-01 00:17:34 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:17:34 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:17:34 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:17:34 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 00:17:34 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 00:17:34 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 00:17:34 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 00:17:46 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:17:46 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:17:46 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 00:17:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test/send-test-email
2025-08-01 00:17:46 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/test/send-test-email' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:17:46 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/test/send-test-email' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:17:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:17:46 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:17:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:17:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:17:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:18:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:18:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:18:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:18:35 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 24668 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:18:35 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:18:35 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:18:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 6 JPA repository interfaces.
2025-08-01 00:18:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:18:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:18:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:18:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:18:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1098 ms
2025-08-01 00:18:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:18:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:18:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:18:37 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:18:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:18:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:18:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:18:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:18:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:18:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:18:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:18:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:18:39 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:18:39 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:18:39 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:18:39 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:18:39 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:18:40 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:18:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@631b2f72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732301d1, org.springframework.security.web.context.SecurityContextHolderFilter@1100a8f6, org.springframework.security.web.header.HeaderWriterFilter@612bfb57, org.springframework.web.filter.CorsFilter@92b6b6f, org.springframework.security.web.csrf.CsrfFilter@55fbe0fc, org.springframework.security.web.authentication.logout.LogoutFilter@5ac26d56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7e0ea7, org.springframework.security.web.session.ConcurrentSessionFilter@492dd497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695d66ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@affa948, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b3785, org.springframework.security.web.session.SessionManagementFilter@144a7ad5, org.springframework.security.web.access.ExceptionTranslationFilter@19e015b2, org.springframework.security.web.access.intercept.AuthorizationFilter@773e5a18]
2025-08-01 00:18:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:18:40 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.02 seconds (process running for 5.367)
2025-08-01 00:18:40 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:18:40 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:18:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:18:40 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 00:18:40 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 00:18:40 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 00:18:40 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-01 00:18:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test/send-test-email
2025-08-01 00:18:51 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/test/send-test-email' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:18:51 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/test/send-test-email' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:18:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:18:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test/send-test-email
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  c.t.controller.TestEmailController - Creating test email to verify Gmail SMTP configuration
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  c.t.service.EmailQueueService - Queuing email to: tresurhunting@gmail.com with subject: 🎉 Test Email - Gmail SMTP Configuration Verification
2025-08-01 00:18:51 [http-nio-8080-exec-1] INFO  c.t.controller.TestEmailController - Test email queued successfully with ID: 1
2025-08-01 00:19:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:19:40 [Async-1] INFO  c.t.service.EmailQueueService - Found 1 emails ready to send
2025-08-01 00:19:40 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: tresurhunting@gmail.com
2025-08-01 00:19:42 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 00:20:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:21:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:22:03 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:22:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:22:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 00:22:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 00:22:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:22:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:22:04 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 00:22:10 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 00:22:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:23:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register/team
2025-08-01 00:23:27 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:23:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register/team
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Processing team registration submission for plan ID: 2 with 2 members
2025-08-01 00:23:27 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching treasure hunt plan with ID: 2
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 2 and email: saaiiikrishna@gmail.com
2025-08-01 00:23:27 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued confirmation emails for 2 team members
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing email to: admin@treasurehunt.com with subject: 📋 New Registration: Kanya Raasi
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 00:23:27 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Team registration successful with ID: 1
2025-08-01 00:23:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:23:40 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:23:40 [Async-2] INFO  c.t.service.EmailQueueService - Found 3 emails ready to send
2025-08-01 00:23:40 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: saaiiikrishna@gmail.com
2025-08-01 00:23:42 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 00:23:42 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: skscmsd@gmail.com
2025-08-01 00:23:43 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 00:23:43 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: admin@treasurehunt.com
2025-08-01 00:23:45 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 00:23:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:23:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:23:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 00:23:48 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:23:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:23:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:23:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 7B1995143DACF0F2D52A074208EF2DDC
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session F9F3270C7B00DD7531ACE8D83EA8CA76, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@26fb6302]
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:24:02 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 00:24:02 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 00:24:10 [http-nio-8080-exec-5] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 00:24:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 00:24:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 00:24:14 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 00:24:22 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 00:24:22 [http-nio-8080-exec-10] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 00:24:22 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:24:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:24:26 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:24:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:24:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:24:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 00:24:33 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 00:24:33 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 00:24:33 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:24:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 00:24:37 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 00:24:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:24:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 00:24:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 00:24:47 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 00:24:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 00:24:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 00:24:49 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 00:24:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/create
2025-08-01 00:24:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:24:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/create
2025-08-01 00:24:52 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying create campaign form
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 00:25:02 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 00:25:02 [http-nio-8080-exec-10] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 00:25:02 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:25:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:25:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:25:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 00:25:15 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 00:25:15 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 00:25:15 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:25:15 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 00:25:20 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 00:25:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/registrations/1/status
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/registrations/1/status
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:26:12 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Updating registration 1 status to: CONFIRMED
2025-08-01 00:26:12 [http-nio-8080-exec-8] INFO  c.t.service.RegistrationService - Updating registration status for ID: 1 to CONFIRMED
2025-08-01 00:26:12 [http-nio-8080-exec-8] INFO  c.t.service.RegistrationService - Successfully updated registration status for ID: 1
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.RegistrationService - Sending confirmation emails for registration ID: 1
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.RegistrationService - Queued confirmation emails for 2 team members
2025-08-01 00:26:12 [Async-1] INFO  c.t.service.RegistrationService - Queued confirmation emails for registration ID: 1
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:26:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/registrations/1/status
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B1995143DACF0F2D52A074208EF2DDC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/registrations/1/status
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:26:29 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Updating registration 1 status to: CONFIRMED
2025-08-01 00:26:29 [http-nio-8080-exec-10] INFO  c.t.service.RegistrationService - Updating registration status for ID: 1 to CONFIRMED
2025-08-01 00:26:29 [http-nio-8080-exec-10] INFO  c.t.service.RegistrationService - Successfully updated registration status for ID: 1
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.RegistrationService - Sending confirmation emails for registration ID: 1
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.RegistrationService - Queued confirmation emails for 2 team members
2025-08-01 00:26:29 [Async-2] INFO  c.t.service.RegistrationService - Queued confirmation emails for registration ID: 1
2025-08-01 00:26:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:26:40 [Async-1] INFO  c.t.service.EmailQueueService - Found 4 emails ready to send
2025-08-01 00:26:40 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 5 to: saaiiikrishna@gmail.com
2025-08-01 00:26:42 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 5
2025-08-01 00:26:42 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 6 to: skscmsd@gmail.com
2025-08-01 00:26:44 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 6
2025-08-01 00:26:44 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 7 to: saaiiikrishna@gmail.com
2025-08-01 00:26:46 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 7
2025-08-01 00:26:46 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 8 to: skscmsd@gmail.com
2025-08-01 00:26:48 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 8
2025-08-01 00:27:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:28:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:28:40 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:29:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:30:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:31:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:32:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:33:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:33:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:33:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 00:33:05 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:33:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from FBBA39B5B4B371B20276A0C7F8EA120F
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D57CCDE4CF94DAA1AC9CDB055CE34EA9, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FBBA39B5B4B371B20276A0C7F8EA120F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@d53d495]
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FBBA39B5B4B371B20276A0C7F8EA120F], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:33:09 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=FBBA39B5B4B371B20276A0C7F8EA120F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 00:33:09 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 00:33:40 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:33:40 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:34:40 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:34:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:34:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:34:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:35:05 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 25140 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:35:05 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:35:05 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:35:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:35:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 6 JPA repository interfaces.
2025-08-01 00:35:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:35:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:35:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:35:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:35:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1197 ms
2025-08-01 00:35:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:35:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:35:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:35:06 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:35:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:35:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:35:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:35:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:35:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:35:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:35:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:35:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:35:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:35:08 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:35:08 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:35:08 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:35:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:35:09 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:35:09 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 00:35:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:35:09 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.07 seconds (process running for 5.374)
2025-08-01 00:35:09 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:35:09 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.core.task.TaskRejectedException: ExecutorService in shutdown state did not accept task: org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda/0x000002979aa62a00@657f568
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.submit(ThreadPoolTaskExecutor.java:387)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.doSubmit(AsyncExecutionAspectSupport.java:294)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:129)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.treasurehunt.service.EmailQueueService$$SpringCGLIB$$0.processEmailQueue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@594ad916[Not completed, task = org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda/0x000002979aa62a00@657f568] rejected from org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1@11e7bf7b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2081)
	at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:841)
	at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1376)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1.execute(ThreadPoolTaskExecutor.java:269)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.submit(ThreadPoolTaskExecutor.java:384)
	... 19 common frames omitted
2025-08-01 00:35:09 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:35:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:35:09 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:35:09 [main] ERROR c.t.config.DataInitializer - Error during data initialization
org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'dataSourceScriptDatabaseInitializer': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:471)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249)
	at jdk.proxy2/jdk.proxy2.$Proxy141.countByStatus(Unknown Source)
	at com.treasurehunt.service.TreasureHuntPlanService.getActivePlanCount(TreasureHuntPlanService.java:205)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.treasurehunt.service.TreasureHuntPlanService$$SpringCGLIB$$0.getActivePlanCount(<generated>)
	at com.treasurehunt.config.DataInitializer.run(DataInitializer.java:35)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.treasurehunt.TreasureHuntApplication.main(TreasureHuntApplication.java:25)
2025-08-01 00:35:24 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 11296 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:35:24 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:35:24 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:35:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:35:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 6 JPA repository interfaces.
2025-08-01 00:35:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:35:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:35:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:35:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:35:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1132 ms
2025-08-01 00:35:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:35:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:35:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:35:25 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:35:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:35:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:35:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:35:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:35:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:35:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:35:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:35:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:35:27 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:35:27 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:35:27 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:35:27 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:35:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:35:28 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:35:28 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 00:35:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:35:28 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.981 seconds (process running for 5.269)
2025-08-01 00:35:28 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:35:28 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:35:28 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:35:28 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 00:35:28 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 00:35:29 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 00:35:29 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 00:35:29 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 00:35:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:35:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:35:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 00:35:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:35:42 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/registrations' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:35:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:35:42 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/registrations' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:35:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 00:35:42 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:35:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:35:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:35:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:35:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 7F9BF9DA5680DD2A1397FC183E466CA5
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 4E2AF7FE711498A724D3809038AF02B9, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7F9BF9DA5680DD2A1397FC183E466CA5], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4694113e]
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7F9BF9DA5680DD2A1397FC183E466CA5], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:35:47 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7F9BF9DA5680DD2A1397FC183E466CA5], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 00:35:47 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 00:36:28 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:36:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:36:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:36:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 00:36:31 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:36:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:36:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:36:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:36:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 743765DC38DF69990319B9DDBF9C99D3
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session E18AB38AE341D21EF2052D49FBD6198A, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1c9b3ab4]
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:36:35 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 00:36:35 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 00:36:38 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:36:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 00:36:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:36:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:36:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:36:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:36:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:36:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 00:36:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:36:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 00:36:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=743765DC38DF69990319B9DDBF9C99D3], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:37:28 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:37:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test/send-test-email
2025-08-01 00:37:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:37:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test/send-test-email
2025-08-01 00:37:39 [http-nio-8080-exec-2] INFO  c.t.controller.TestEmailController - Creating test email to verify Gmail SMTP configuration
2025-08-01 00:37:39 [http-nio-8080-exec-2] INFO  c.t.service.EmailQueueService - Queuing email to: tresurhunting@gmail.com with subject: 🎉 Test Email - Gmail SMTP Configuration Verification
2025-08-01 00:37:39 [http-nio-8080-exec-2] INFO  c.t.controller.TestEmailController - Test email queued successfully with ID: 1
2025-08-01 00:38:28 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:38:28 [Async-1] INFO  c.t.service.EmailQueueService - Found 1 emails ready to send
2025-08-01 00:38:28 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: tresurhunting@gmail.com
2025-08-01 00:38:31 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 00:39:28 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:40:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:40:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 00:40:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 00:40:17 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 17280 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 00:40:17 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 00:40:17 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 00:40:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 00:40:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 6 JPA repository interfaces.
2025-08-01 00:40:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 00:40:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 00:40:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 00:40:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 00:40:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1206 ms
2025-08-01 00:40:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 00:40:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 00:40:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 00:40:18 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 00:40:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 00:40:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 00:40:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 00:40:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 00:40:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 00:40:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 00:40:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 00:40:20 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 00:40:20 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 00:40:20 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 00:40:20 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 00:40:20 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 00:40:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 00:40:21 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 00:40:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 00:40:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 00:40:21 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.975 seconds (process running for 5.268)
2025-08-01 00:40:21 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 00:40:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:40:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:40:21 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 00:40:21 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 00:40:21 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 00:40:21 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 00:41:14 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 00:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 00:41:14 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 00:41:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:41:14 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/registrations' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:41:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:41:14 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/registrations' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 00:41:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 00:41:14 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 00:41:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 00:41:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:41:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:41:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from D736AE9F300A7DEDD25A775AFC7F371A
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 3CAAC520516A48386DA30186E7CA4CE1, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5fb2d756]
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 00:41:18 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 00:41:18 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 00:41:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:41:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 00:41:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 00:41:22 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 00:41:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 00:41:24 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 00:41:24 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:41:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:41:54 [http-nio-8080-exec-10] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 00:41:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 00:41:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 00:41:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:41:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:41:58 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 00:41:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 00:41:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 00:41:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 00:41:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 00:42:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D736AE9F300A7DEDD25A775AFC7F371A], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 00:42:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:43:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/test/send-test-email
2025-08-01 00:43:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 00:43:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/test/send-test-email
2025-08-01 00:43:09 [http-nio-8080-exec-2] INFO  c.t.controller.TestEmailController - Creating test email to verify Gmail SMTP configuration
2025-08-01 00:43:09 [http-nio-8080-exec-2] INFO  c.t.service.EmailQueueService - Queuing email to: tresurhunting@gmail.com with subject: 🎉 Test Email - Gmail SMTP Configuration Verification
2025-08-01 00:43:09 [http-nio-8080-exec-2] INFO  c.t.controller.TestEmailController - Test email queued successfully with ID: 1
2025-08-01 00:43:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:43:21 [Async-1] INFO  c.t.service.EmailQueueService - Found 1 emails ready to send
2025-08-01 00:43:21 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: tresurhunting@gmail.com
2025-08-01 00:43:23 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 00:44:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:45:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:45:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:46:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:47:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:48:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:49:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:50:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:50:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:51:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:52:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:53:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:54:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:55:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 00:55:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:56:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:57:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:58:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 00:59:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:00:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:00:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:01:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:02:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:03:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:04:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:05:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:05:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:06:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:07:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:08:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:09:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:10:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:10:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:11:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:12:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:13:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:14:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:15:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:15:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:16:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:17:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:18:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:19:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:20:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:20:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:21:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:22:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:23:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:24:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:25:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:25:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:26:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:27:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:28:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:29:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:30:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:30:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:31:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:32:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:33:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:34:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:35:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:35:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:36:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:37:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:38:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:39:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:40:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:40:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:40:21 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 01:41:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:42:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:43:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:44:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:45:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:45:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:46:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:47:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:48:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:49:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:50:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:50:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:51:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:52:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:53:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:54:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:55:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:55:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 01:56:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:57:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:58:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 01:59:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:00:00 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: Expecting a SELECT query : `DELETE FROM EmailQueue e WHERE e.createdDate < :cutoffDate AND e.status = 'SENT'`
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249)
	at jdk.proxy2/jdk.proxy2.$Proxy148.deleteOldSentEmails(Unknown Source)
	at com.treasurehunt.service.EmailQueueService.cleanupOldEmails(EmailQueueService.java:342)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.treasurehunt.service.EmailQueueService$$SpringCGLIB$$0.cleanupOldEmails(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalStateException: Expecting a SELECT query : `DELETE FROM EmailQueue e WHERE e.createdDate < :cutoffDate AND e.status = 'SENT'`
	at org.hibernate.query.sqm.internal.QuerySqmImpl.verifySelect(QuerySqmImpl.java:493)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:498)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:559)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 35 common frames omitted
Caused by: org.hibernate.query.IllegalSelectQueryException: Expecting a SELECT Query [org.hibernate.query.sqm.tree.select.SqmSelectStatement], but found org.hibernate.query.sqm.tree.delete.SqmDeleteStatement [DELETE FROM EmailQueue e WHERE e.createdDate < :cutoffDate AND e.status = 'SENT']
	at org.hibernate.query.sqm.internal.SqmUtil.verifyIsSelectStatement(SqmUtil.java:93)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.verifySelect(QuerySqmImpl.java:489)
	... 54 common frames omitted
2025-08-01 02:00:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:00:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:01:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:02:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:03:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:04:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:05:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:05:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:06:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:07:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:08:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:09:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:10:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:10:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:11:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:12:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:13:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:14:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:15:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:15:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:16:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:17:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:18:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:19:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:20:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:20:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:21:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:22:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:23:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:24:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:25:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:25:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:26:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:27:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:28:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:29:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:30:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:30:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:31:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:32:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:33:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:34:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:35:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:35:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:36:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:37:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:38:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:39:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:40:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:40:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:40:21 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 02:41:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:42:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:43:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:44:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:45:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:45:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:46:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:47:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:48:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:49:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:50:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:50:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:51:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:52:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:53:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:54:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:55:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 02:55:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:56:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:57:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:58:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 02:59:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:00:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:00:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:01:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:02:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:03:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:04:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:05:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:05:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:06:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:07:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:08:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:09:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:10:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:10:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:11:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:12:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:13:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:14:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:15:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:15:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:16:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:17:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:18:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:19:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:20:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:20:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:21:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:22:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:23:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:24:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:25:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:25:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:26:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:27:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:28:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:29:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:30:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:30:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:31:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:32:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:33:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:34:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:35:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:35:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:36:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:37:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:38:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:39:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:40:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:40:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:40:21 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 03:41:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:42:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:43:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:44:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:45:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:45:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:46:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:47:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:48:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:49:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:50:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:50:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:51:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:52:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:53:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:54:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:55:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 03:55:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:56:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:57:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:58:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 03:59:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:00:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:00:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:01:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:02:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:03:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:04:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:05:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:05:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:06:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:07:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:08:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:09:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:10:21 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:10:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:11:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:12:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:13:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:14:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:15:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:15:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:16:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:17:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:18:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:19:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:20:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:20:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:21:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:22:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:23:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:24:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:25:21 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:25:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:26:21 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:27:21 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:28:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:29:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:30:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:30:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:31:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:32:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:33:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:34:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:35:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:35:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:36:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:37:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:38:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:39:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:40:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:40:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:40:22 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 04:41:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:42:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:43:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:44:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:45:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:45:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:46:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:47:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:48:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:49:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:50:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:50:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:51:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:52:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:53:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:54:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:55:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:55:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 04:56:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:57:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:58:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 04:59:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:00:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:00:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:01:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:02:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:03:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:04:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:05:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:05:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:06:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:07:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:08:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:09:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:10:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:10:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:11:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:12:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:13:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:14:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:15:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:15:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:16:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:17:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:18:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:19:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:20:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:20:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:21:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:22:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:23:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:24:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:25:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:25:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:26:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:27:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:28:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:29:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:30:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:30:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:31:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:32:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:33:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:34:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:35:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:35:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:36:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:37:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:38:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:39:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:40:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:40:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:40:22 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 05:41:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:42:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:43:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:44:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:45:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:45:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:46:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:47:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:48:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:49:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:50:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:50:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:51:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:52:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:53:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:54:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:55:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:55:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 05:56:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:57:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:58:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 05:59:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:00:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:00:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:01:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:02:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:03:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:04:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:05:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:05:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:06:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:07:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:08:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:09:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:10:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:10:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:11:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:12:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:13:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:14:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:15:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:15:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:16:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:17:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:18:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:19:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:20:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:20:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:21:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:22:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:23:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:24:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:25:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:25:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:26:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:27:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:28:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:29:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:30:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:30:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:31:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:32:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:33:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:34:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:35:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:35:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:36:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:37:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:38:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:39:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:40:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:40:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:40:22 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 06:41:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:42:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:43:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:44:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:45:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:45:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:46:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:47:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:48:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:49:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:50:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:50:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:51:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:52:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:53:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:54:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:55:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 06:55:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:56:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:57:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:58:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 06:59:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:00:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:00:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:01:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:02:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:03:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:04:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:05:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:05:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:06:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:07:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:08:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:09:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:10:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:10:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:11:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:12:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:13:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:14:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:15:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:15:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:16:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:17:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:18:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:19:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:20:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:20:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:21:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:22:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:23:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:24:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:25:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:25:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:26:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:27:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:28:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:28:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 07:28:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id F9F3270C7B00DD7531ACE8D83EA8CA76
2025-08-01 07:28:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations?continue to session
2025-08-01 07:28:40 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:28:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:28:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:28:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-01 07:28:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-08-01 07:28:40 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:28:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 07:28:48 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 07:28:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:28:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:28:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 07:28:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 07:28:48 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 07:29:14 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 07:29:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 07:29:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 07:29:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:29:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:29:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 07:29:14 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 07:29:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 07:29:22 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 07:30:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:30:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:31:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register/team
2025-08-01 07:31:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:31:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register/team
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Processing team registration submission for plan ID: 2 with 2 members
2025-08-01 07:31:07 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching treasure hunt plan with ID: 2
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 2 and email: saaiiikrishna@gmail.com
2025-08-01 07:31:07 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued confirmation emails for 2 team members
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing email to: admin@treasurehunt.com with subject: 📋 New Registration: Kanya Raasi
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 07:31:07 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Team registration successful with ID: 1
2025-08-01 07:31:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:31:22 [Async-2] INFO  c.t.service.EmailQueueService - Found 3 emails ready to send
2025-08-01 07:31:22 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: saaiiikrishna@gmail.com
2025-08-01 07:31:24 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 07:31:24 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: skscmsd@gmail.com
2025-08-01 07:31:28 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 07:31:28 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: admin@treasurehunt.com
2025-08-01 07:31:31 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 07:32:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:33:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 07:34:11 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 07:34:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:35:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:35:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:35:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:35:12 [http-nio-8080-exec-8] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:35:12 [http-nio-8080-exec-8] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:35:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:35:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:35:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:35:56 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:35:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:35:56 [http-nio-8080-exec-10] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:35:56 [http-nio-8080-exec-10] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:36:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:36:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:36:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:36:03 [http-nio-8080-exec-3] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:36:03 [http-nio-8080-exec-3] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:36:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:36:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:36:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:36:05 [http-nio-8080-exec-2] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:36:05 [http-nio-8080-exec-2] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:36:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:36:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:36:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:36:06 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:36:06 [http-nio-8080-exec-9] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:36:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 07:36:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:36:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 07:36:07 [http-nio-8080-exec-1] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 07:36:07 [http-nio-8080-exec-1] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 07:36:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:37:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations/1
2025-08-01 07:37:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:37:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/registrations/1?continue to session
2025-08-01 07:37:14 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:37:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:37:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:37:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:37:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:38:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:39:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:40:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:40:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:40:22 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 07:41:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:42:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:43:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:44:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:45:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:45:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 3141586347ACB789FCCFF7363A84D4AC
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session A7598020FB342B92D7972E0D5067CE99, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6e7702ff]
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 07:46:01 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 07:46:01 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/plans
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/plans
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.managePlans(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.managePlans(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading plan management page
2025-08-01 07:46:11 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 07:46:13 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 07:46:18 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 07:46:21 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 07:46:21 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 07:46:21 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:46:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:46:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:46:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:46:25 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 07:46:28 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 07:46:28 [http-nio-8080-exec-4] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-4] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 07:46:28 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:46:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 07:46:35 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 07:46:35 [http-nio-8080-exec-5] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-5] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 07:46:35 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:46:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:46:44 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:46:44 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:46:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/create
2025-08-01 07:46:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/create
2025-08-01 07:46:47 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying create campaign form
2025-08-01 07:46:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:46:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:46:50 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:46:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/create
2025-08-01 07:46:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/create
2025-08-01 07:46:52 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying create campaign form
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 07:46:59 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 07:46:59 [http-nio-8080-exec-2] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-2] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 07:46:59 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:46:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 07:47:12 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 07:47:12 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 07:47:12 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 07:47:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:47:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:47:19 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:47:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:47:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:47:21 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:47:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:47:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/create
2025-08-01 07:47:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:47:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/create
2025-08-01 07:47:26 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying create campaign form
2025-08-01 07:48:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:48:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 07:48:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:48:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 07:48:38 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 07:49:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:49:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:49:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:49:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:49:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:49:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:49:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:50:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:50:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:50:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:50:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:50:22 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:50:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:50:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:50:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:51:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:51:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:51:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:51:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:51:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:51:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:51:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:52:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:52:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:52:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:52:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:53:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:53:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:53:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:53:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:54:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:54:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:54:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:54:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:55:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:55:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:55:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:55:22 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:55:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:56:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:56:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:56:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:56:22 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:57:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:57:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3141586347ACB789FCCFF7363A84D4AC], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 07:57:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 07:57:22 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:57:33 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 22448 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 07:57:33 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 07:57:33 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 07:57:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 07:57:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 07:57:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 07:57:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 07:57:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 07:57:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 07:57:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1085 ms
2025-08-01 07:57:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 07:57:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 07:57:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 07:57:34 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 07:57:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 07:57:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 07:57:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 07:57:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 07:57:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 07:57:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 07:57:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 07:57:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 07:57:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 07:57:36 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 07:57:36 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 07:57:36 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 07:57:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 07:57:37 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 07:57:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@631b2f72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732301d1, org.springframework.security.web.context.SecurityContextHolderFilter@1100a8f6, org.springframework.security.web.header.HeaderWriterFilter@612bfb57, org.springframework.web.filter.CorsFilter@92b6b6f, org.springframework.security.web.csrf.CsrfFilter@55fbe0fc, org.springframework.security.web.authentication.logout.LogoutFilter@5ac26d56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7e0ea7, org.springframework.security.web.session.ConcurrentSessionFilter@492dd497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695d66ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@affa948, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b3785, org.springframework.security.web.session.SessionManagementFilter@144a7ad5, org.springframework.security.web.access.ExceptionTranslationFilter@19e015b2, org.springframework.security.web.access.intercept.AuthorizationFilter@773e5a18]
2025-08-01 07:57:37 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-01 07:57:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 07:57:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 07:57:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 07:57:37 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 07:57:37 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-01 07:58:02 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 20932 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 07:58:02 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 07:58:02 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 07:58:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 07:58:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 07:58:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 07:58:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 07:58:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 07:58:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 07:58:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1100 ms
2025-08-01 07:58:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 07:58:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 07:58:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 07:58:04 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 07:58:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 07:58:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 07:58:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 07:58:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 07:58:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 07:58:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 07:58:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 07:58:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 07:58:06 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 07:58:06 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 07:58:06 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 07:58:06 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 07:58:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 07:58:07 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 07:58:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 07:58:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 07:58:07 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.922 seconds (process running for 5.202)
2025-08-01 07:58:07 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 07:58:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:58:07 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 07:58:07 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 07:58:07 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 07:58:07 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 07:58:07 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 07:58:12 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 07:58:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 07:58:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 07:58:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:58:12 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/api/statistics' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 07:58:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A7598020FB342B92D7972E0D5067CE99
2025-08-01 07:58:12 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/api/statistics' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 07:58:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/api/statistics?continue to session
2025-08-01 07:58:12 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:58:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:58:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:58:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 07:58:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/email-queue?continue to session
2025-08-01 07:58:16 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:58:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:58:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:58:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:58:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 07:58:27 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 07:59:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 07:59:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:59:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:59:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/api/statistics?continue to session
2025-08-01 07:59:12 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:59:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:59:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:59:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 07:59:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 07:59:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:59:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/api/statistics?continue to session
2025-08-01 07:59:54 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 07:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 07:59:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 07:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:00:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:00:26 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 08:00:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 08:00:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 08:00:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:00:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:26 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:00:27 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 08:01:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:02:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:02:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 08:02:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:02:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 08:02:48 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 08:02:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 08:02:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:02:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E48F873CE58AAA00970E5E171C79443F
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D52FDC6DC641EE07038E4A0C85A27D8A, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@38c4b218]
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 08:03:03 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 08:03:03 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 08:03:07 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:03:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/plans
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/plans
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.managePlans(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.managePlans(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading plan management page
2025-08-01 08:03:08 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 08:03:12 [http-nio-8080-exec-8] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 08:03:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 08:03:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 08:03:14 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 08:03:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 08:03:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 08:03:16 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 08:03:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 08:03:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 08:03:19 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 08:03:23 [http-nio-8080-exec-9] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 08:03:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 08:03:28 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 08:03:28 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 08:03:29 [http-nio-8080-exec-10] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 08:03:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:03:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:03:31 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:03:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:03:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:03:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:03:49 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:03:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:03:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:03:55 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:03:55 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:03:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 08:04:05 [http-nio-8080-exec-10] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 08:04:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 08:04:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 08:04:07 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 08:04:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:04:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:04:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:04:08 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:04:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/create
2025-08-01 08:04:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/create
2025-08-01 08:04:16 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying create campaign form
2025-08-01 08:04:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:04:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:04:19 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:04:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 08:04:20 [http-nio-8080-exec-6] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 08:04:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:04:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:04:41 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:04:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 08:04:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:05:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:05:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:05:12 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:05:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:05:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:05:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:05:44 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:05:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:06:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:06:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:06:16 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:06:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:06:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:06:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:06:48 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:06:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 08:06:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:07:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:07:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:07:20 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:07:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:07:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:07:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:07:52 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:07:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:07 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:08:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:08:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:08:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:08:24 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:08:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:08:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:08:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:08:56 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:08:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:09:27 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:09:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:09:28 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:09:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:09:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:10:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:10:00 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:10:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:10:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:10:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:10:32 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:10:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:11:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:11:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:11:04 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:11:04 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:11:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:11:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:11:36 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:11:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:12:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:12:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:12:08 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:12:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:12:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:12:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:12:40 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:12:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:07 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:13:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:13:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:13:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:13:12 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:13:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:13:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:13:44 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:13:44 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:13:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:14:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:14:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:14:16 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:14:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:14:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:14:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:14:48 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:14:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:15:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:15:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:15:20 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:15:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:15:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:15:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:15:52 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:15:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:16:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:16:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:16:24 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:16:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:16:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:16:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:16:56 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:16:56 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:17:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:17:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:17:28 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:17:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:17:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:18:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:18:00 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:18:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:18:07 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:18:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:18:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:18:32 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:18:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:19:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:19:04 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:19:04 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:19:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:19:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:19:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:19:36 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:19:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:20:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:20:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:20:08 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:20:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:20:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:20:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:20:40 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:20:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:21:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:21:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:21:12 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:21:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:21:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:21:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:21:44 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:21:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:22:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:22:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:22:16 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:22:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:22:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:22:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:22:48 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:22:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:23:07 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:23:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:23:20 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:23:44 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:23:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 08:23:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:23:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:23:52 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:23:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 08:23:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:24:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:24:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:24:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:24:24 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:24:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:24:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:24:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:24:56 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:24:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:25:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /test_fixes.html
2025-08-01 08:25:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:25:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/test_fixes.html?continue to session
2025-08-01 08:25:25 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 08:25:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 08:25:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:25:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:25:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:25:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:25:28 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:25:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:25:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:26:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:26:00 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:26:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:26:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:26:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:26:32 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:26:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:27:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:27:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:27:04 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:27:04 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:27:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:27:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:27:36 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:27:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:28:03 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 08:28:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 08:28:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 08:28:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:28:04 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 08:28:07 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:28:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:28:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:28:08 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 08:28:10 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:28:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:28:40 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:28:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:29:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:29:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:29:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:29:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:29:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:29:12 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/email-campaigns/statistics
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/email-campaigns/statistics
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:29:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E48F873CE58AAA00970E5E171C79443F], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:30:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:30:20 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:30:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 08:30:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 08:30:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 08:30:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:30:20 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:30:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 08:30:25 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 08:31:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:32:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:33:07 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:33:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:34:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:35:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:36:07 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:36:26 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:37:07 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:38:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 08:38:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 08:38:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 08:38:20 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 24444 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 08:38:20 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 08:38:20 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 08:38:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 08:38:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 08:38:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 08:38:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 08:38:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 08:38:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 08:38:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1087 ms
2025-08-01 08:38:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 08:38:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 08:38:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 08:38:21 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 08:38:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 08:38:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 08:38:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 08:38:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 08:38:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 08:38:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 08:38:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 08:38:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 08:38:23 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 08:38:23 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 08:38:23 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 08:38:23 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 08:38:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 08:38:24 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 08:38:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@631b2f72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732301d1, org.springframework.security.web.context.SecurityContextHolderFilter@1100a8f6, org.springframework.security.web.header.HeaderWriterFilter@612bfb57, org.springframework.web.filter.CorsFilter@92b6b6f, org.springframework.security.web.csrf.CsrfFilter@55fbe0fc, org.springframework.security.web.authentication.logout.LogoutFilter@5ac26d56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7e0ea7, org.springframework.security.web.session.ConcurrentSessionFilter@492dd497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695d66ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@affa948, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b3785, org.springframework.security.web.session.SessionManagementFilter@144a7ad5, org.springframework.security.web.access.ExceptionTranslationFilter@19e015b2, org.springframework.security.web.access.intercept.AuthorizationFilter@773e5a18]
2025-08-01 08:38:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 08:38:24 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.903 seconds (process running for 5.184)
2025-08-01 08:38:24 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 08:38:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:38:24 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:38:25 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 08:38:25 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 08:38:25 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 08:38:25 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 08:38:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 08:38:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 08:38:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:38:35 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:38:35 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:38:35 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:39:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:39:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /test-file-upload.html
2025-08-01 08:39:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:39:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/test-file-upload.html?continue to session
2025-08-01 08:39:35 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 08:39:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 08:39:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:39:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:40:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:41:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:42:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:43:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:43:24 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:44:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:45:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:45:34 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 08:45:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 08:45:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 08:45:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 08:45:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 08:45:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 08:45:35 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 08:45:39 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 08:46:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:47:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:47:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 08:47:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:47:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 08:47:49 [http-nio-8080-exec-8] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 08:47:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 08:47:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 08:47:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 5013E4559C4303A429AEF24C8814B353
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 0D97DA912F2577E0246BDB483E5D6422, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4d8b8927]
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 08:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 08:47:57 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 08:48:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:02 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:08 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:09 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:10 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:11 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:12 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:48:24 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:48:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:48:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:48:43 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:48:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:48:43 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:48:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:49:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:49:15 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:49:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:49:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:46 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:49:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:49:47 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:49:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:49:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:49:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:18 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:50:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:50:19 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:50:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:50:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:50:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:50:51 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:50:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:50:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:50:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:51:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:51:23 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:51:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:51:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:51:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:51:55 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:51:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:51:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:51:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:52:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:26 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:52:27 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:52:27 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:52:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:52:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:52:59 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:52:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:52:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:52:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:53:24 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:53:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:53:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:53:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:53:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:53:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:53:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:53:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:53:31 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:53:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:53:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:53:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:54:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:54:03 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:54:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:54:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:54:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:54:35 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:54:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:54:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:54:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:55:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:55:07 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:55:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:55:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:55:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:55:39 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:55:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:55:39 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:55:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:56:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:56:11 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:56:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:11 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:56:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:56:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:56:43 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:56:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:56:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:56:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:57:15 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:57:15 [http-nio-8080-exec-8] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:57:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:57:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:57:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:57:47 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:57:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:57:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:57:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:58:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:58:19 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:58:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:24 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 08:58:24 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:58:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:58:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:58:51 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:58:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:58:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:58:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:59:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:59:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:59:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:59:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 08:59:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:59:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 08:59:23 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 08:59:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 08:59:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5013E4559C4303A429AEF24C8814B353], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 08:59:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 08:59:24 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 08:59:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 08:59:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 08:59:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 08:59:57 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 23592 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 08:59:57 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 08:59:57 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 08:59:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 08:59:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 6 JPA repository interfaces.
2025-08-01 08:59:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 08:59:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 08:59:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 08:59:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 08:59:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1160 ms
2025-08-01 08:59:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 08:59:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 08:59:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 08:59:59 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 08:59:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 08:59:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 08:59:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 08:59:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 08:59:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 09:00:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 09:00:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:00:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 09:00:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 09:00:01 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 09:00:01 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 09:00:01 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 09:00:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 09:00:01 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 09:00:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@631b2f72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732301d1, org.springframework.security.web.context.SecurityContextHolderFilter@1100a8f6, org.springframework.security.web.header.HeaderWriterFilter@612bfb57, org.springframework.web.filter.CorsFilter@92b6b6f, org.springframework.security.web.csrf.CsrfFilter@55fbe0fc, org.springframework.security.web.authentication.logout.LogoutFilter@5ac26d56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7e0ea7, org.springframework.security.web.session.ConcurrentSessionFilter@492dd497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695d66ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@affa948, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b3785, org.springframework.security.web.session.SessionManagementFilter@144a7ad5, org.springframework.security.web.access.ExceptionTranslationFilter@19e015b2, org.springframework.security.web.access.intercept.AuthorizationFilter@773e5a18]
2025-08-01 09:00:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 09:00:02 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.938 seconds (process running for 5.221)
2025-08-01 09:00:02 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 09:00:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:00:02 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:00:02 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 09:00:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 09:00:02 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 09:00:02 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 09:00:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 09:00:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 09:00:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 09:00:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 09:00:02 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/email-queue' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:00:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:00:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 0D97DA912F2577E0246BDB483E5D6422
2025-08-01 09:00:02 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/email-queue' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:00:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/email-queue?continue to session
2025-08-01 09:00:02 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 09:00:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 09:00:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:00:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 09:01:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:01:06 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 09:01:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 09:01:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 09:01:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:01:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:01:07 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:01:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:01:08 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 09:02:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:02:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:02:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 09:02:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 09:04:43 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 4220 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 09:04:43 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 09:04:43 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 09:04:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 09:04:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 6 JPA repository interfaces.
2025-08-01 09:04:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 09:04:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 09:04:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 09:04:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 09:04:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2961 ms
2025-08-01 09:04:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 09:04:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 09:04:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 09:04:46 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 09:04:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 09:04:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 09:04:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 09:04:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 09:04:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 09:04:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 09:04:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:04:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 09:04:51 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 09:04:51 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 09:04:51 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 09:04:51 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 09:04:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 09:04:53 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 09:04:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fdde3e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@713c4d95, org.springframework.security.web.context.SecurityContextHolderFilter@47cd8d7c, org.springframework.security.web.header.HeaderWriterFilter@5faea3cb, org.springframework.web.filter.CorsFilter@50f7521d, org.springframework.security.web.csrf.CsrfFilter@6830ddda, org.springframework.security.web.authentication.logout.LogoutFilter@773e5a18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42306a87, org.springframework.security.web.session.ConcurrentSessionFilter@2e1777d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c609e43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b0713c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78e0f7ea, org.springframework.security.web.session.SessionManagementFilter@419e0ee5, org.springframework.security.web.access.ExceptionTranslationFilter@64867a0c, org.springframework.security.web.access.intercept.AuthorizationFilter@5af6fae9]
2025-08-01 09:04:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 09:04:54 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 11.919 seconds (process running for 12.55)
2025-08-01 09:04:54 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 09:04:54 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:04:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:04:54 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 09:04:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 09:04:54 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 09:04:54 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 09:05:10 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 09:05:10 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 09:05:10 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 09:05:11 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-3] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:05:11 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 09:05:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:05:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:05:11 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:05:13 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 09:05:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:06:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:07:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:08:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:09:54 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:09:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:10:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:11:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:12:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:13:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:14:54 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:14:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:15:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:16:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:17:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:18:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:19:54 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:19:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:20:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:21:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:22:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:22:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 09:22:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 09:22:54 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 21204 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 09:22:54 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 09:22:54 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 09:22:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 09:22:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-08-01 09:22:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 09:22:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 09:22:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 09:22:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 09:22:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1165 ms
2025-08-01 09:22:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 09:22:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 09:22:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 09:22:55 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 09:22:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 09:22:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 09:22:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 09:22:56 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 09:22:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 09:22:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 09:22:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:22:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 09:22:57 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 09:22:57 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 09:22:57 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 09:22:57 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 09:22:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 09:22:58 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 09:22:58 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 09:22:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 09:22:59 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.09 seconds (process running for 5.379)
2025-08-01 09:22:59 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 09:22:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:22:59 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:22:59 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 09:22:59 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 09:22:59 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 09:22:59 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 09:23:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 09:23:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 09:23:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 09:23:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 09:23:08 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:23:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:23:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 09:23:09 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 09:23:09 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:23:09 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 09:23:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:23:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 09:23:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 09:23:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:23:09 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:23:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:23:10 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 09:23:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:23:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: test@example.com
2025-08-01 09:23:46 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 1 and email: test@example.com
2025-08-01 09:23:46 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-07-25 201414.png for registration ID: 1, type: PHOTO
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: ID_DOCUMENT
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 2
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: MEDICAL_CERTIFICATE
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 3
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queued confirmation email for individual registration
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.EmailQueueService - Queuing email to: treasurehunting@gmail.com with subject: 📋 New Registration: Test User
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 09:23:46 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Successfully created registration with ID: 1
2025-08-01 09:23:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:23:59 [Async-2] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 09:23:59 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: test@example.com
2025-08-01 09:24:01 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 09:24:01 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: treasurehunting@gmail.com
2025-08-01 09:24:04 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 09:24:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:25:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:26:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:27:59 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:27:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:28:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:29:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:30:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:31:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:32:59 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:32:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:33:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:34:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:35:03 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:35:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:35:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 09:35:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:35:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 09:35:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:35:03 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:35:14 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 09:35:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:36:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:37:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 09:37:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:37:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 09:37:00 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 1 and email: saaiiikrishna@gmail.com
2025-08-01 09:37:00 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-07-25 201414.png for registration ID: 2, type: PHOTO
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 4
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 2, type: ID_DOCUMENT
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 5
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 2, type: MEDICAL_CERTIFICATE
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 6
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 2
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 2
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued confirmation email for individual registration
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 2
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing email to: treasurehunting@gmail.com with subject: 📋 New Registration: Sai
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 2
2025-08-01 09:37:00 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Successfully created registration with ID: 2
2025-08-01 09:37:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 09:37:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:37:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 09:37:48 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 09:37:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 09:37:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:37:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 316B5BA89F0D4E4BBEECFF95FF6C76B8
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 2F0734DD52DBFC0B4731483D05363659, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@621c4ce7]
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 09:37:57 [http-nio-8080-exec-8] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 09:37:57 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 09:37:59 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:37:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:37:59 [Async-2] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 09:37:59 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: saaiiikrishna@gmail.com
2025-08-01 09:38:02 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 09:38:02 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: treasurehunting@gmail.com
2025-08-01 09:38:05 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 09:38:10 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 09:38:10 [http-nio-8080-exec-2] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-2] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 09:38:10 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:38:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 09:38:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 09:38:21 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 09:38:23 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 09:38:23 [http-nio-8080-exec-10] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 09:38:23 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:38:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations?id=2
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations?id=2
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 09:38:39 [http-nio-8080-exec-1] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations/2
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations/2
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.getRegistrationDetails(java.lang.Long,org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.getRegistrationDetails(java.lang.Long,org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Fetching registration details for ID: 2
2025-08-01 09:38:48 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching registration with ID: 2
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/registrations/2/status
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/registrations/2/status
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:56 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Updating registration 2 status to: CONFIRMED
2025-08-01 09:38:56 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Updating registration status for ID: 2 to CONFIRMED
2025-08-01 09:38:56 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully updated registration status for ID: 2
2025-08-01 09:38:56 [Async-1] INFO  c.t.service.RegistrationService - Sending confirmation emails for registration ID: 2
2025-08-01 09:38:56 [Async-1] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 2
2025-08-01 09:38:56 [Async-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 2
2025-08-01 09:38:56 [Async-1] INFO  c.t.service.RegistrationService - Queued confirmation email for individual registration
2025-08-01 09:38:56 [Async-1] INFO  c.t.service.RegistrationService - Queued confirmation emails for registration ID: 2
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations?id=2
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations?id=2
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 09:38:58 [http-nio-8080-exec-7] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 09:38:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:38:59 [Async-2] INFO  c.t.service.EmailQueueService - Found 1 emails ready to send
2025-08-01 09:38:59 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 5 to: saaiiikrishna@gmail.com
2025-08-01 09:39:02 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 5
2025-08-01 09:39:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 09:40:04 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 09:40:04 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 09:40:04 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.status == 'SENT'} ? 'bg-success' : 
                                                                         ${email.status == 'PROCESSING'} ? 'bg-warning' : 
                                                                         ${email.status == 'FAILED'} ? 'bg-danger' : 
                                                                         ${email.status == 'SCHEDULED'} ? 'bg-primary' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 200, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:40:04 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 09:40:09 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 09:40:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:41:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:42:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:42:59 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:43:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:44:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:45:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=316B5BA89F0D4E4BBEECFF95FF6C76B8], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 09:45:10 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 09:45:59 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:46:59 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:47:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:47:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 09:47:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 09:47:32 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 24952 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 09:47:32 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 09:47:32 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 09:47:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 09:47:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 6 JPA repository interfaces.
2025-08-01 09:47:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 09:47:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 09:47:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 09:47:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 09:47:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1095 ms
2025-08-01 09:47:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 09:47:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 09:47:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 09:47:33 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 09:47:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 09:47:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 09:47:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 09:47:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 09:47:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 09:47:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 09:47:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 09:47:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 09:47:35 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 09:47:35 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 09:47:35 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 09:47:36 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 09:47:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 09:47:36 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 09:47:36 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@631b2f72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732301d1, org.springframework.security.web.context.SecurityContextHolderFilter@1100a8f6, org.springframework.security.web.header.HeaderWriterFilter@612bfb57, org.springframework.web.filter.CorsFilter@92b6b6f, org.springframework.security.web.csrf.CsrfFilter@55fbe0fc, org.springframework.security.web.authentication.logout.LogoutFilter@5ac26d56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7e0ea7, org.springframework.security.web.session.ConcurrentSessionFilter@492dd497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695d66ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@affa948, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d6b3785, org.springframework.security.web.session.SessionManagementFilter@144a7ad5, org.springframework.security.web.access.ExceptionTranslationFilter@19e015b2, org.springframework.security.web.access.intercept.AuthorizationFilter@773e5a18]
2025-08-01 09:47:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 09:47:37 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.878 seconds (process running for 5.17)
2025-08-01 09:47:37 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 09:47:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:47:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:47:37 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 09:47:37 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 09:47:37 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 09:47:37 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 09:48:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:48:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 09:48:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 09:48:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 09:48:39 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:48:39 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 09:48:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 09:48:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 09:48:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 09:48:39 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 09:48:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 09:48:40 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 09:49:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:50:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 09:50:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:50:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 2F0734DD52DBFC0B4731483D05363659
2025-08-01 09:50:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 09:50:11 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 09:50:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 09:50:11 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 09:50:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 09:50:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:51:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:52:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:52:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:53:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:54:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:55:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:56:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:57:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:57:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 09:58:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 09:59:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:00:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:01:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:02:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:02:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:03:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:04:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:05:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:06:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:07:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:07:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:08:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:09:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:10:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:11:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:12:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:12:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:13:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:14:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:15:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:16:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:17:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:17:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:18:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:19:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:20:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:21:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:22:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:22:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:23:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:24:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:25:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:26:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 10:27:24 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 10:27:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 10:27:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 10:27:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 10:27:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 10:27:25 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 10:27:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:27:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:28:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:29:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:30:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:31:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:32:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:32:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:33:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 10:33:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 10:34:00 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 10:34:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:35:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:36:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:37:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:37:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:37:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 10:37:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:37:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: sribheemesh@gmail.com
2025-08-01 10:37:46 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 1 and email: sribheemesh@gmail.com
2025-08-01 10:37:46 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-08-01 002652.png for registration ID: 1, type: PHOTO
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: ID_DOCUMENT
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 2
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: MEDICAL_CERTIFICATE
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 3
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Queued confirmation email for individual registration
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.EmailQueueService - Queuing email to: treasurehunting@gmail.com with subject: 📋 New Registration: bheemesh
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 10:37:46 [http-nio-8080-exec-1] INFO  c.t.c.RegistrationController - Successfully created registration with ID: 1
2025-08-01 10:38:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 10:38:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:38:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 10:38:18 [http-nio-8080-exec-9] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 10:38:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 10:38:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 10:38:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from F10BE1FA096176554D19B3D39447E409
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session E6ED45582DFD1BCED70EC0AB13095D94, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F10BE1FA096176554D19B3D39447E409], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7780e3]
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F10BE1FA096176554D19B3D39447E409], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 10:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F10BE1FA096176554D19B3D39447E409], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 10:38:36 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 10:38:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:38:37 [Async-2] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 10:38:37 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: sribheemesh@gmail.com
2025-08-01 10:38:39 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 10:38:39 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: treasurehunting@gmail.com
2025-08-01 10:38:41 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F10BE1FA096176554D19B3D39447E409], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 10:38:41 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 10:38:41 [http-nio-8080-exec-4] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-4] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 205, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 205, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 10:38:41 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 205, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 10:38:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=F10BE1FA096176554D19B3D39447E409], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 10:39:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:40:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:41:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:42:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:42:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:43:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:44:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:45:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:46:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:47:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:47:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:47:37 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 10:48:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:49:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:50:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:51:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:52:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:52:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:53:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:54:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:55:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:56:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:57:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 10:57:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:58:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 10:59:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:00:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:01:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:02:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:02:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:03:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:04:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:05:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:06:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:07:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:07:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:08:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:09:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:10:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:11:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:12:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:12:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:13:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:14:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:15:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:16:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:17:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:17:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:18:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:19:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:20:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:21:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:22:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:22:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:23:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:24:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:25:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:26:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:27:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:27:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:28:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:29:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:30:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:31:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:32:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:32:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:33:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:34:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:35:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:36:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:37:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:37:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:38:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:39:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:40:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:41:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:42:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:42:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:43:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:44:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:45:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:46:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:47:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:47:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:47:37 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 11:48:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:49:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:50:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:51:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:52:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:52:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:53:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:54:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:55:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:56:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:57:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:57:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 11:58:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 11:59:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:00:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:01:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:02:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:02:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:03:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:04:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:05:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:06:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:07:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:07:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:08:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:09:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:10:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:11:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:12:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:12:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:13:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:14:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:15:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:16:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:17:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:17:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:18:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:19:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:20:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:21:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:22:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:22:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:23:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:24:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:25:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:26:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:27:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:27:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:28:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:29:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:30:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:31:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:32:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:32:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:33:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:34:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:35:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:36:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:37:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:37:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:38:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:39:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:40:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:41:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:42:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:42:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:43:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:44:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:45:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:46:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:47:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:47:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:47:37 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 12:48:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:49:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:50:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:51:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:52:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:52:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:53:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:54:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:55:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:56:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:57:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:57:37 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 12:58:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 12:59:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:00:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:01:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:02:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:02:37 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:03:37 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:04:37 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:04:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 13:04:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 13:04:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 13:05:07 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 21376 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 13:05:07 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 13:05:07 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 13:05:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 13:05:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 13:05:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 13:05:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 13:05:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 13:05:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 13:05:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1077 ms
2025-08-01 13:05:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 13:05:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 13:05:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 13:05:08 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 13:05:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 13:05:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 13:05:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 13:05:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 13:05:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 13:05:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 13:05:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 13:05:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 13:05:10 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 13:05:10 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 13:05:10 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 13:05:10 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 13:05:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 13:05:11 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 13:05:11 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5caf0976, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631b2f72, org.springframework.security.web.context.SecurityContextHolderFilter@2058633e, org.springframework.security.web.header.HeaderWriterFilter@65f953d3, org.springframework.web.filter.CorsFilter@732301d1, org.springframework.security.web.csrf.CsrfFilter@5532ef5b, org.springframework.security.web.authentication.logout.LogoutFilter@2cf3b679, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@773e5a18, org.springframework.security.web.session.ConcurrentSessionFilter@64867a0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c81870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695d66ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92b6b6f, org.springframework.security.web.session.SessionManagementFilter@d1eb341, org.springframework.security.web.access.ExceptionTranslationFilter@4f347dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0ef1e8]
2025-08-01 13:05:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 13:05:11 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.784 seconds (process running for 5.08)
2025-08-01 13:05:11 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 13:05:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:05:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:05:11 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 13:05:11 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 13:05:11 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 13:05:11 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 13:06:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:07:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:08:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:09:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:10:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:10:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:11:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:12:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:13:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:14:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:15:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:15:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:16:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:17:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:18:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:19:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:20:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:20:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:21:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:22:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:23:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:24:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:25:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:25:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:26:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:27:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:28:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:29:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:30:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:30:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:31:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:32:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:33:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:33:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 13:33:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 13:33:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 13:33:50 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 13:33:50 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 13:33:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 13:33:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 13:33:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 13:33:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 13:33:50 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 13:33:54 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 13:34:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:35:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:35:11 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register/team
2025-08-01 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:35:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register/team
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.c.RegistrationController - Processing team registration submission for plan ID: 2 with 2 members
2025-08-01 13:35:56 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching treasure hunt plan with ID: 2
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 2 and email: saaiiikrishna@gmail.com
2025-08-01 13:35:56 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-07-25 201414.png for registration ID: 1, type: PHOTO
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: ID_DOCUMENT
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 2
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: MEDICAL_CERTIFICATE
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 3
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Queued confirmation emails for 2 team members
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.EmailQueueService - Queuing email to: treasurehunting@gmail.com with subject: 📋 New Registration: Ravalpindi
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 13:35:56 [http-nio-8080-exec-2] INFO  c.t.c.RegistrationController - Team registration successful with ID: 1
2025-08-01 13:36:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:36:11 [Async-1] INFO  c.t.service.EmailQueueService - Found 3 emails ready to send
2025-08-01 13:36:11 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: saaiiikrishna@gmail.com
2025-08-01 13:36:13 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 13:36:13 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: skscmsd@gmail.com
2025-08-01 13:36:15 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 13:36:15 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: treasurehunting@gmail.com
2025-08-01 13:36:17 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 13:37:11 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:37:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 13:37:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:37:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 13:37:42 [http-nio-8080-exec-7] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 13:37:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 13:37:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 13:37:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 8D6A5D99C06529ED43ABDB89BDFF40FB
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 4C79D11FEE87AA270B2B75B33AAE401F, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8D6A5D99C06529ED43ABDB89BDFF40FB], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3242a469]
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8D6A5D99C06529ED43ABDB89BDFF40FB], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 13:38:00 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=8D6A5D99C06529ED43ABDB89BDFF40FB], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 13:38:00 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 13:38:11 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 13:39:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 13:39:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 13:39:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 14:03:27 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 4016 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:03:27 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:03:27 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 159 ms. Found 6 JPA repository interfaces.
2025-08-01 14:03:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:03:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:03:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:03:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:03:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2575 ms
2025-08-01 14:03:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:03:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:03:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:03:30 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:03:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:03:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:03:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:03:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:03:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:03:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:03:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:03:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:03:33 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:03:33 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:03:33 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:03:33 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:03:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:03:34 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:03:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e1913ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f9c04e, org.springframework.security.web.context.SecurityContextHolderFilter@2fdde3e3, org.springframework.security.web.header.HeaderWriterFilter@4c0ef1e8, org.springframework.web.filter.CorsFilter@61c58492, org.springframework.security.web.csrf.CsrfFilter@47cd8d7c, org.springframework.security.web.authentication.logout.LogoutFilter@5a22e843, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a03acb6, org.springframework.security.web.session.ConcurrentSessionFilter@7cf75b4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50f7521d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e0f7ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b648329, org.springframework.security.web.session.SessionManagementFilter@4f7e0ea7, org.springframework.security.web.access.ExceptionTranslationFilter@67ebf27a, org.springframework.security.web.access.intercept.AuthorizationFilter@76f0872c]
2025-08-01 14:03:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 14:03:35 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 9.465 seconds (process running for 9.869)
2025-08-01 14:03:35 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 14:03:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:03:35 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:03:36 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 14:03:36 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 14:03:36 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 14:03:36 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 14:03:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 14:03:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 14:03:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-01 14:03:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:03:48 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:03:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:03:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 4C79D11FEE87AA270B2B75B33AAE401F
2025-08-01 14:03:48 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:03:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 14:03:48 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:03:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:03:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:03:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:04:14 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 14:04:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 14:04:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 14:04:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 14:04:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:04:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:04:14 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 14:04:21 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 14:04:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:05:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:05:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register/team
2025-08-01 14:05:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:05:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register/team
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Processing team registration submission for plan ID: 2 with 2 members
2025-08-01 14:05:58 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching treasure hunt plan with ID: 2
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 2 and email: saaiiikrishna@gmail.com
2025-08-01 14:05:58 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-07-25 201414.png for registration ID: 1, type: PHOTO
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: ID_DOCUMENT
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 2
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: MEDICAL_CERTIFICATE
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 3
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued registration confirmation emails for 2 team members
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing email to: treasurehunting@gmail.com with subject: 📋 New Registration: Pataganam
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 14:05:58 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Team registration successful with ID: 1
2025-08-01 14:06:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:06:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:06:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 14:06:14 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:06:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:06:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:06:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:06:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from ED1A38DFD2BD38FEEEB23E74DCF96979
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 84A77565090C88CA2B612786078421F9, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@109d9923]
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:06:21 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:06:21 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:06:27 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:06:27 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:06:27 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:06:27 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 14:06:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 14:06:31 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 14:06:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:06:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:06:35 [http-nio-8080-exec-2] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:06:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:06:35 [Async-2] INFO  c.t.service.EmailQueueService - Found 3 emails ready to send
2025-08-01 14:06:35 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: saaiiikrishna@gmail.com
2025-08-01 14:06:40 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 14:06:40 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: skscmsd@gmail.com
2025-08-01 14:06:43 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 14:06:43 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: treasurehunting@gmail.com
2025-08-01 14:06:46 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 14:06:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns
2025-08-01 14:06:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns
2025-08-01 14:06:50 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email campaigns dashboard
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:06:52 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:06:52 [http-nio-8080-exec-3] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-3] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:06:52 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:06:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:07:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 14:07:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:07:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 14:07:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:07:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 14:07:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:07:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 14:08:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/api/statistics
2025-08-01 14:08:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:08:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/api/statistics
2025-08-01 14:08:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:08:35 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:08:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:08:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:08:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:08:37 [http-nio-8080-exec-5] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:08:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:08:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:08:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:08:39 [http-nio-8080-exec-8] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:09:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:09:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:09:54 [http-nio-8080-exec-1] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:09:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/application-approval
2025-08-01 14:09:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:09:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/application-approval
2025-08-01 14:09:58 [http-nio-8080-exec-2] INFO  c.t.c.EmailTemplateController - Editing template: application-approval
2025-08-01 14:10:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:10:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:10:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:10:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:10:53 [http-nio-8080-exec-10] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:10:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:10:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:10:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:10:55 [http-nio-8080-exec-4] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 14:10:58 [http-nio-8080-exec-6] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/registrations/1/status
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/registrations/1/status
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:11:05 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Updating registration 1 status to: CONFIRMED
2025-08-01 14:11:05 [http-nio-8080-exec-7] INFO  c.t.service.RegistrationService - Updating registration status for ID: 1 to CONFIRMED
2025-08-01 14:11:05 [http-nio-8080-exec-7] INFO  c.t.service.RegistrationService - Successfully updated registration status for ID: 1
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.RegistrationService - Sending approval emails for registration ID: 1
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.RegistrationService - Queuing application approval emails for registration ID: 1
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.RegistrationService - Queued approval emails for 2 team members
2025-08-01 14:11:05 [Async-2] INFO  c.t.service.RegistrationService - Queued approval emails for registration ID: 1
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED1A38DFD2BD38FEEEB23E74DCF96979], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 14:11:07 [http-nio-8080-exec-5] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 14:11:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:11:35 [Async-1] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 14:11:35 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: saaiiikrishna@gmail.com
2025-08-01 14:11:38 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 14:11:38 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 5 to: skscmsd@gmail.com
2025-08-01 14:11:39 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 5
2025-08-01 14:12:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:13:35 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:13:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:14:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:15:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:16:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:17:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:18:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:18:35 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:19:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:20:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:21:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:22:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:23:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:23:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:23:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/email-queue?continue to session
2025-08-01 14:23:18 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:23:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:23:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:23:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:23:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:23:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:23:35 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 440DA489906FB1D6ADC62BD054403ED2
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session F7100C0223420B04B58BDD3C942AA314, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2eb3c622]
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:23:38 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:23:38 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:23:45 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:23:45 [http-nio-8080-exec-5] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-5] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:23:45 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:23:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:24:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:25:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:26:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:27:05 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 10260 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:27:05 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:27:05 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:27:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:27:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 14:27:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:27:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:27:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:27:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:27:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1088 ms
2025-08-01 14:27:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:27:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:27:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:27:07 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:27:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:27:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:27:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:27:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:27:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:27:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:27:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:27:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:27:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:27:08 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:27:08 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:27:09 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:27:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:27:09 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:27:09 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14001fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48895b1d, org.springframework.security.web.context.SecurityContextHolderFilter@7241d973, org.springframework.security.web.header.HeaderWriterFilter@1e2cf7f9, org.springframework.web.filter.CorsFilter@202bb083, org.springframework.security.web.csrf.CsrfFilter@3b02d444, org.springframework.security.web.authentication.logout.LogoutFilter@7cf75b4b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41acbb51, org.springframework.security.web.session.ConcurrentSessionFilter@b0713c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad194d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@efb30da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23d34ed, org.springframework.security.web.session.SessionManagementFilter@2c7e1fce, org.springframework.security.web.access.ExceptionTranslationFilter@695d66ce, org.springframework.security.web.access.intercept.AuthorizationFilter@2b217392]
2025-08-01 14:27:10 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-01 14:27:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:27:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 14:27:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 14:27:10 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 14:27:10 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:27:18 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:27:18 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:27:18 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:27:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:27:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:28:24 [http-nio-8080-exec-1] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:28:24 [http-nio-8080-exec-1] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:28:24 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:28:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:28:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:28:35 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:29:05 [http-nio-8080-exec-10] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:29:05 [http-nio-8080-exec-10] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:29:05 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:29:32 [http-nio-8080-exec-3] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:29:32 [http-nio-8080-exec-3] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-3] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:29:32 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:29:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:29:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:30:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:31:13 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:31:13 [http-nio-8080-exec-6] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-6] Exception processing template "admin/email-campaigns/email-queue": An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 98 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 100 common frames omitted
2025-08-01 14:31:13 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/email-campaigns/email-queue.html]")] with root cause
org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "${email.priority <= 2} ? 'bg-danger' : 
                                                                         ${email.priority <= 5} ? 'bg-warning' : 'bg-secondary'" (template: "admin/email-campaigns/email-queue" - line 208, col 59)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44)
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220)
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:31:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=440DA489906FB1D6ADC62BD054403ED2], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:31:33 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 19184 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:31:33 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:31:33 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:31:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:31:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 6 JPA repository interfaces.
2025-08-01 14:31:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:31:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:31:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:31:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:31:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1160 ms
2025-08-01 14:31:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:31:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:31:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:31:34 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:31:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:31:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:31:35 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:31:35 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:31:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:31:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:31:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:31:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:31:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:31:36 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:31:36 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:31:36 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:31:37 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:31:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:31:37 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:31:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14001fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48895b1d, org.springframework.security.web.context.SecurityContextHolderFilter@7241d973, org.springframework.security.web.header.HeaderWriterFilter@1e2cf7f9, org.springframework.web.filter.CorsFilter@202bb083, org.springframework.security.web.csrf.CsrfFilter@3b02d444, org.springframework.security.web.authentication.logout.LogoutFilter@7cf75b4b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41acbb51, org.springframework.security.web.session.ConcurrentSessionFilter@b0713c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad194d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@efb30da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23d34ed, org.springframework.security.web.session.SessionManagementFilter@2c7e1fce, org.springframework.security.web.access.ExceptionTranslationFilter@695d66ce, org.springframework.security.web.access.intercept.AuthorizationFilter@2b217392]
2025-08-01 14:31:38 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-01 14:31:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:31:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 14:31:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 14:31:38 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-01 14:31:38 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-01 14:32:35 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:33:35 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:33:35 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:33:49 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 19560 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:33:49 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:33:49 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:33:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:33:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 6 JPA repository interfaces.
2025-08-01 14:33:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:33:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:33:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:33:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:33:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1106 ms
2025-08-01 14:33:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:33:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:33:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:33:50 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:33:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:33:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:33:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:33:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:33:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:33:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:33:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:33:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:33:52 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:33:52 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:33:52 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:33:52 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:33:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:33:53 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:33:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14001fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48895b1d, org.springframework.security.web.context.SecurityContextHolderFilter@7241d973, org.springframework.security.web.header.HeaderWriterFilter@1e2cf7f9, org.springframework.web.filter.CorsFilter@202bb083, org.springframework.security.web.csrf.CsrfFilter@3b02d444, org.springframework.security.web.authentication.logout.LogoutFilter@7cf75b4b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41acbb51, org.springframework.security.web.session.ConcurrentSessionFilter@b0713c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad194d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@efb30da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23d34ed, org.springframework.security.web.session.SessionManagementFilter@2c7e1fce, org.springframework.security.web.access.ExceptionTranslationFilter@695d66ce, org.springframework.security.web.access.intercept.AuthorizationFilter@2b217392]
2025-08-01 14:33:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 14:33:54 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.968 seconds (process running for 5.264)
2025-08-01 14:33:54 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 14:33:54 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:33:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:33:54 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 14:33:54 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 14:33:54 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 14:33:54 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 14:34:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 14:34:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 14:34:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 14:34:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:34:06 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/email-queue' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:34:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:34:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id F7100C0223420B04B58BDD3C942AA314
2025-08-01 14:34:06 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-campaigns/email-queue' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:34:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-campaigns/email-queue?continue to session
2025-08-01 14:34:06 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:34:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:34:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:34:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 4748340AC718BE3B024B832836A45165
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 4EC4AF2DBA17AA0BA20AA105E2A516F2, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@388afa09]
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:34:36 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:34:36 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:34:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 14:34:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:34:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 14:34:43 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 14:34:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:34:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:34:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:34:50 [http-nio-8080-exec-10] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:34:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:34:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:34:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:34:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:34:58 [http-nio-8080-exec-4] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:35:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:35:54 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:36:54 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:36:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:36:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:36:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:36:54 [http-nio-8080-exec-1] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:36:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:36:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:36:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:36:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:36:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:37:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:37:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:37:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:37:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:37:35 [http-nio-8080-exec-3] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/admin/email-templates/preview/registration-confirmation
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-08-01 14:37:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4748340AC718BE3B024B832836A45165], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:37:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:37:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 14:37:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 14:38:05 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 19292 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:38:05 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:38:05 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:38:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:38:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
2025-08-01 14:38:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:38:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:38:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:38:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:38:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1087 ms
2025-08-01 14:38:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:38:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:38:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:38:07 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:38:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:38:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:38:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:38:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:38:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:38:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:38:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:38:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:38:09 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:38:09 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:38:09 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:38:09 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:38:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:38:09 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:38:10 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14001fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48895b1d, org.springframework.security.web.context.SecurityContextHolderFilter@7241d973, org.springframework.security.web.header.HeaderWriterFilter@1e2cf7f9, org.springframework.web.filter.CorsFilter@202bb083, org.springframework.security.web.csrf.CsrfFilter@3b02d444, org.springframework.security.web.authentication.logout.LogoutFilter@7cf75b4b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41acbb51, org.springframework.security.web.session.ConcurrentSessionFilter@b0713c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad194d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@efb30da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23d34ed, org.springframework.security.web.session.SessionManagementFilter@2c7e1fce, org.springframework.security.web.access.ExceptionTranslationFilter@695d66ce, org.springframework.security.web.access.intercept.AuthorizationFilter@2b217392]
2025-08-01 14:38:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 14:38:10 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.891 seconds (process running for 5.19)
2025-08-01 14:38:10 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 14:38:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:38:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:38:10 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 14:38:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 14:38:10 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 14:38:10 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 14:38:23 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 14:38:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 14:38:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-01 14:38:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:38:23 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:38:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:38:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 4EC4AF2DBA17AA0BA20AA105E2A516F2
2025-08-01 14:38:23 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:38:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-templates/edit/registration-confirmation?continue to session
2025-08-01 14:38:23 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:38:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:38:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:38:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 39112BDB5EC800200948A3CA0A86B873
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 1B05F3D501E934EAB87FC4578B747CD9, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@439615fd]
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:38:45 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:38:45 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:38:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:38:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:38:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:38:51 [http-nio-8080-exec-9] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:39:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:39:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:39:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:39:00 [http-nio-8080-exec-6] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:39:09 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:39:09 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 14:39:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:39:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:39:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=39112BDB5EC800200948A3CA0A86B873], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:39:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:39:10 [http-nio-8080-exec-1] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 14:39:10 [http-nio-8080-exec-1] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "email/temp-registration-confirmation": Error resolving template [email/temp-registration-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [email/temp-registration-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:172)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:39:10 [http-nio-8080-exec-1] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [email/temp-registration-confirmation], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:172)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:39:12 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 14:39:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:39:12 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 14:40:09 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 14:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:40:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:40:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 14:40:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 14:40:57 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 8388 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 14:40:57 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 14:40:57 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 14:40:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 14:40:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 14:40:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 14:40:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 14:40:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 14:40:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 14:40:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1088 ms
2025-08-01 14:40:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 14:40:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 14:40:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 14:40:59 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 14:40:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 14:40:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 14:40:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 14:40:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 14:40:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 14:41:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 14:41:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 14:41:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 14:41:01 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 14:41:01 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 14:41:01 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 14:41:01 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 14:41:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 14:41:02 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 14:41:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ed65c99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@537bdff0, org.springframework.security.web.context.SecurityContextHolderFilter@59c476cc, org.springframework.security.web.header.HeaderWriterFilter@67b37f23, org.springframework.web.filter.CorsFilter@2229ce7e, org.springframework.security.web.csrf.CsrfFilter@4c2aa4db, org.springframework.security.web.authentication.logout.LogoutFilter@41acbb51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fe956e8, org.springframework.security.web.session.ConcurrentSessionFilter@30417948, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@631b2f72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732301d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f124a, org.springframework.security.web.session.SessionManagementFilter@2cf3b679, org.springframework.security.web.access.ExceptionTranslationFilter@b0713c9, org.springframework.security.web.access.intercept.AuthorizationFilter@37b0cfae]
2025-08-01 14:41:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 14:41:02 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.958 seconds (process running for 5.27)
2025-08-01 14:41:02 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 14:41:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:41:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:41:02 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 14:41:02 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 14:41:02 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 14:41:02 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 14:41:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 14:41:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 14:41:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 14:41:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:41:19 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:41:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:41:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 1B05F3D501E934EAB87FC4578B747CD9
2025-08-01 14:41:19 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 14:41:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-templates/edit/registration-confirmation?continue to session
2025-08-01 14:41:19 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:41:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:41:19 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:41:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 481B391170F2021C49C71338C1A17EA1
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 9D03741115429E6B1BD16066A005B61C, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1ec78983]
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:41:41 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:41:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 14:41:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:41:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 14:41:53 [http-nio-8080-exec-5] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 14:42:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:42:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:42:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:42:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 14:42:04 [http-nio-8080-exec-6] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 14:42:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:42:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=481B391170F2021C49C71338C1A17EA1], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:42:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 14:42:20 [http-nio-8080-exec-8] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 14:42:20 [http-nio-8080-exec-8] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-8] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 14:42:20 [http-nio-8080-exec-8] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 14:43:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:44:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register/team
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register/team
2025-08-01 14:44:36 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Processing team registration submission for plan ID: 2 with 2 members
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching treasure hunt plan with ID: 2
2025-08-01 14:44:36 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 2 and email: saaiiikrishna@gmail.com
2025-08-01 14:44:36 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file Screenshot 2025-07-25 201414.png for registration ID: 1, type: PHOTO
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: ID_DOCUMENT
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 2
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Storing file MySillyDreams.pdf for registration ID: 1, type: MEDICAL_CERTIFICATE
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.FileStorageService - Successfully stored file with ID: 3
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queued registration confirmation emails for 2 team members
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.EmailQueueService - Queuing email to: tresurhunting@gmail.com with subject: 📋 New Registration: Ravalpindi
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 14:44:37 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Team registration successful with ID: 1
2025-08-01 14:45:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:45:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:45:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 84A77565090C88CA2B612786078421F9
2025-08-01 14:45:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin?continue to session
2025-08-01 14:45:00 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 14:45:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 14:45:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 14:45:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 14:45:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:45:02 [Async-2] INFO  c.t.service.EmailQueueService - Found 3 emails ready to send
2025-08-01 14:45:02 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: saaiiikrishna@gmail.com
2025-08-01 14:45:04 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 14:45:04 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: skscmsd@gmail.com
2025-08-01 14:45:05 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 14:45:05 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 3 to: tresurhunting@gmail.com
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 2671221E0CC49FC9FFDDA3E24C35B8C9
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 139505716A756F59481ABDD6A0EA9A60, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@20e08af9]
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 14:45:06 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:45:06 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:45:07 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 3
2025-08-01 14:46:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:46:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:47:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:48:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:49:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 14:49:16 [http-nio-8080-exec-6] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 14:50:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:50:07 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:51:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:51:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:52:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:53:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:54:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:55:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 14:55:08 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 14:56:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:56:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 14:57:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:58:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 14:59:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:00:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:00:09 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:01:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:01:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:02:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:03:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:04:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:05:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:05:10 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:06:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:06:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:07:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:08:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:09:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:10:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:10:11 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:11:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:11:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:12:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:13:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:14:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:15:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:15:12 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:16:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:16:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:17:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:18:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:19:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:20:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:20:13 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:21:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:21:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:22:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:23:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:24:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:25:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:25:14 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:26:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:26:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:27:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:28:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:29:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:30:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:30:15 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:31:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:31:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:32:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:32:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:32:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:32:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:32:37 [http-nio-8080-exec-5] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:33:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:33:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:33:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:33:16 [http-nio-8080-exec-4] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:33:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:33:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:33:23 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:33:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 15:33:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 15:33:26 [http-nio-8080-exec-7] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 15:33:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 15:33:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 15:33:35 [http-nio-8080-exec-8] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 15:33:40 [http-nio-8080-exec-1] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations/1
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations/1
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.getRegistrationDetails(java.lang.Long,org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.getRegistrationDetails(java.lang.Long,org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG c.t.controller.AdminController - Fetching registration details for ID: 1
2025-08-01 15:33:58 [http-nio-8080-exec-10] DEBUG c.t.service.RegistrationService - Fetching registration with ID: 1
2025-08-01 15:34:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:35:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:36:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:36:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/registrations/1/status
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/registrations/1/status
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.treasurehunt.controller.AdminController.updateRegistrationStatus(java.lang.Long,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:36:09 [http-nio-8080-exec-5] DEBUG c.t.controller.AdminController - Updating registration 1 status to: CONFIRMED
2025-08-01 15:36:09 [http-nio-8080-exec-5] INFO  c.t.service.RegistrationService - Updating registration status for ID: 1 to CONFIRMED
2025-08-01 15:36:09 [http-nio-8080-exec-5] INFO  c.t.service.RegistrationService - Successfully updated registration status for ID: 1
2025-08-01 15:36:09 [Async-1] INFO  c.t.service.RegistrationService - Sending approval emails for registration ID: 1
2025-08-01 15:36:09 [Async-1] INFO  c.t.service.RegistrationService - Queuing application approval emails for registration ID: 1
2025-08-01 15:36:09 [Async-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 15:36:10 [Async-1] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 15:36:10 [Async-1] INFO  c.t.service.RegistrationService - Queued approval emails for 2 team members
2025-08-01 15:36:10 [Async-1] INFO  c.t.service.RegistrationService - Queued approval emails for registration ID: 1
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 15:36:11 [http-nio-8080-exec-4] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 15:36:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:36:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:36:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:36:31 [http-nio-8080-exec-6] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:36:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:36:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:36:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:36:47 [http-nio-8080-exec-7] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:37:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:37:02 [Async-2] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 15:37:02 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 4 to: saaiiikrishna@gmail.com
2025-08-01 15:37:04 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 4
2025-08-01 15:37:04 [Async-2] INFO  c.t.service.EmailQueueService - Sending email ID: 5 to: skscmsd@gmail.com
2025-08-01 15:37:05 [Async-2] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 5
2025-08-01 15:37:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:37:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:37:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:37:12 [http-nio-8080-exec-9] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:38:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/registrations
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/registrations
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.manageRegistrations(org.springframework.ui.Model,java.lang.String); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG c.t.controller.AdminController - Loading registration management page with status filter: null
2025-08-01 15:38:23 [http-nio-8080-exec-3] DEBUG c.t.service.RegistrationService - Fetching all registrations
2025-08-01 15:38:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-campaigns/email-queue
2025-08-01 15:38:33 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:38:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-campaigns/email-queue
2025-08-01 15:38:33 [http-nio-8080-exec-2] INFO  c.t.c.EmailCampaignController - Displaying email queue
2025-08-01 15:38:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 15:38:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:38:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 15:38:34 [http-nio-8080-exec-5] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 15:38:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 15:38:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:38:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 15:38:53 [http-nio-8080-exec-4] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 15:38:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:38:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:38:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:38:56 [http-nio-8080-exec-6] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:38:56 [http-nio-8080-exec-6] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-6] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:38:56 [http-nio-8080-exec-6] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:39:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:39:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:03 [http-nio-8080-exec-7] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:39:03 [http-nio-8080-exec-7] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-7] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:03 [http-nio-8080-exec-7] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:39:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:07 [http-nio-8080-exec-8] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:39:07 [http-nio-8080-exec-8] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-8] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:07 [http-nio-8080-exec-8] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:19 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:39:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:19 [http-nio-8080-exec-9] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:39:19 [http-nio-8080-exec-9] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:19 [http-nio-8080-exec-9] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:30 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2671221E0CC49FC9FFDDA3E24C35B8C9], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:39:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:39:30 [http-nio-8080-exec-10] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:39:30 [http-nio-8080-exec-10] ERROR org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "<!DOCTYPE html> <html lang="en" xml[...]r, please ignore it.             </p>         </div>     </div> </body> </html> ": An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:39:30 [http-nio-8080-exec-10] ERROR c.t.c.EmailTemplateController - Error previewing template: registration-confirmation
org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)
	at com.treasurehunt.controller.EmailTemplateController.previewTemplate(EmailTemplateController.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 104 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')" (template: "<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Received - Treasure Hunt Adventures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .header {
            background: linear-gradient(135deg, #2c5aa0 0%, #3d6bb3 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        .header .subtitle {
            margin: 10px 0 0 0;
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        .content {
            padding: 30px 20px;
        }
        .greeting {
            font-size: 18px;
            margin-bottom: 20px;
            color: #2c5aa0;
            font-weight: 600;
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plan-details {
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            transition: transform 0.3s ease;
        }
        .plan-details:hover {
            transform: translateX(5px);
        }
        .plan-details h3 {
            margin: 0 0 15px 0;
            color: #2c5aa0;
            font-size: 20px;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .detail-row:last-child {
            border-bottom: none;
        }
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        .detail-value {
            color: #6c757d;
        }
        .registration-info {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .registration-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .under-review-notice {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2); }
            to { box-shadow: 0 6px 12px rgba(255, 193, 7, 0.4); }
        }
        .under-review-notice h3 {
            color: #856404;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .under-review-notice p {
            color: #856404;
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }
        .payment-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 8px rgba(23, 162, 184, 0.2);
        }
        .payment-info h3 {
            color: #0c5460;
            margin: 0 0 15px 0;
            font-size: 20px;
            font-weight: 700;
        }
        .price-display {
            font-size: 28px;
            font-weight: 700;
            color: #0c5460;
            text-align: center;
            margin: 15px 0;
        }
        .non-refundable {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #721c24;
            text-align: center;
            font-weight: 600;
        }
        .documents-info {
            background-color: #e2e3e5;
            border: 1px solid #d6d8db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .documents-info h3 {
            color: #495057;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #d6d8db;
        }
        .document-item:last-child {
            border-bottom: none;
        }
        .contact-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .contact-info h4 {
            color: #0c5460;
            margin: 0 0 15px 0;
        }
        .contact-info p {
            margin: 5px 0;
            color: #0c5460;
        }
        .footer {
            background-color: #343a40;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #f8c146;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .social-links {
            margin: 15px 0;
        }
        .social-links a {
            display: inline-block;
            margin: 0 10px;
            color: #f8c146;
            font-size: 18px;
            text-decoration: none;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: #2c5aa0;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background-color: #1e4080;
            color: white;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 20px 15px;
            }
            .detail-row {
                flex-direction: column;
            }
            .detail-value {
                margin-top: 5px;
                font-weight: 600;
            }
            .price-display {
                font-size: 24px;
            }
            .under-review-notice, .payment-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🗺️ Treasure Hunt Adventures</h1>
            <p class="subtitle">Registration Received</p>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="greeting">
                Hello <span th:text="${registration.fullName}">Adventurer</span>! 🎉
            </div>

            <p>Thank you for registering for our exciting treasure hunt adventure! We have successfully received your application and are thrilled about your interest in joining us.</p>

            <!-- Registration Information -->
            <div class="registration-info">
                <div class="registration-number" th:text="${registrationNumber}">TH-000001</div>
                <p><strong>Your Registration Number</strong></p>
                <p>Please keep this number for your records and bring it with you on the day of your adventure.</p>
            </div>

            <!-- Under Review Notice -->
            <div class="under-review-notice">
                <h3>📋 Application Under Review</h3>
                <p><strong>Your application has been successfully received and is currently under review.</strong></p>
                <p>Once your participation is approved, you will receive a confirmation email with payment instructions and further details.</p>
                <p>Our team will review your submitted documents and get back to you within 24-48 hours.</p>
            </div>

            <!-- Plan Details -->
            <div class="plan-details">
                <h3 th:text="${plan.name}">Adventure Plan Name</h3>
                <div class="detail-row">
                    <span class="detail-label">Duration:</span>
                    <span class="detail-value" th:text="${plan.durationHours} + ' hours'">Duration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Difficulty Level:</span>
                    <span class="detail-value" th:text="${plan.difficultyLevel}">Difficulty</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Team Type:</span>
                    <span class="detail-value" th:text="${plan.teamDescription}">Team Configuration</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registration Date:</span>
                    <span class="detail-value" th:text="${#temporals.format(registration.registrationDate, 'MMMM dd, yyyy')}">Date</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Status:</span>
                    <span class="detail-value" style="color: #ffc107; font-weight: bold;">UNDER REVIEW</span>
                </div>
            </div>

            <!-- Payment Information -->
            <div class="payment-info">
                <h3>💰 Payment Information</h3>
                <div class="price-display">
                    ₹<span th:text="${#numbers.formatDecimal(plan.priceInr, 1, 0)}">2,490</span> per person
                </div>
                <div class="non-refundable">
                    <strong>⚠️ Important:</strong> This payment is non-refundable once processed.
                </div>
                <p style="text-align: center; color: #0c5460; margin: 10px 0;">
                    Payment instructions will be provided upon approval of your application.
                </p>
            </div>

            <!-- Registration Data Confirmation -->
            <div class="documents-info">
                <h3>📄 Your Submitted Information</h3>
                <div class="detail-row">
                    <span class="detail-label">Full Name:</span>
                    <span class="detail-value" th:text="${registration.fullName}">Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value" th:text="${registration.email}">Email</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.phoneNumber}">Phone</span></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Age:</span>
                    <span class="detail-value" th:text="${registration.age}">Age</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Contact:</span>
                    <span class="detail-value" th:text="${registration.emergencyContactName}">Emergency Contact</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Emergency Phone:</span>
                    <span class="detail-value">+91 <span th:text="${registration.emergencyContactPhone}">Emergency Phone</span></span>
                </div>
                <div th:if="${registration.teamRegistration}" class="detail-row">
                    <span class="detail-label">Team Name:</span>
                    <span class="detail-value" th:text="${registration.teamName}">Team Name</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Documents Uploaded:</span>
                    <span class="detail-value">✅ All required documents received</span>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="contact-info">
                <h4>📞 Need Help?</h4>
                <p><strong>Email:</strong> <span th:text="${supportEmail}">support@treasurehuntadventures.com</span></p>
                <p><strong>Phone:</strong> +91 98765 43210</p>
                <p><strong>Hours:</strong> Monday - Friday, 9:00 AM - 6:00 PM IST</p>
            </div>

            <p>We're excited about your interest in joining our treasure hunt adventure! Our team will carefully review your application and get back to you soon.</p>

            <p>If you have any questions or need to make changes to your registration, please don't hesitate to contact our support team.</p>

            <p>Happy hunting! 🏴‍☠️</p>

            <p>
                Best regards,<br>
                <strong>The <span th:text="${companyName}">Treasure Hunt Adventures</span> Team</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong th:text="${companyName}">Treasure Hunt Adventures</strong></p>
            <p>Creating unforgettable adventure experiences since 2020</p>
            
            <div class="social-links">
                <a href="#">📘</a>
                <a href="#">🐦</a>
                <a href="#">📷</a>
                <a href="#">📺</a>
            </div>
            
            <p>
                <a href="#">Privacy Policy</a> | 
                <a href="#">Terms of Service</a> | 
                <a href="#">Unsubscribe</a>
            </p>
            
            <p style="font-size: 12px; color: #adb5bd; margin-top: 15px;">
                This email was sent to <span th:text="${registration.email}">email@example.com</span>. 
                If you received this email in error, please ignore it.
            </p>
        </div>
    </div>
</body>
</html>
" - line 338, col 48)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 106 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'registrationDate' cannot be found on object of type 'java.util.HashMap' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:228)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:111)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:416)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:98)
	at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:176)
	at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:93)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:76)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:97)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)
	... 125 common frames omitted
2025-08-01 15:40:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:41:02 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:41:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:41:02 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 15:42:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:43:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:44:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:45:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:46:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:46:02 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:47:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:48:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:49:02 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:50:02 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:50:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:50:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:50:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 9D03741115429E6B1BD16066A005B61C
2025-08-01 15:50:44 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 15:50:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 15:50:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:50:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 9D03741115429E6B1BD16066A005B61C
2025-08-01 15:50:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 15:51:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 15:51:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 15:51:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 15:51:15 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 22736 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 15:51:15 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 15:51:15 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 15:51:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 15:51:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 6 JPA repository interfaces.
2025-08-01 15:51:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 15:51:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 15:51:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 15:51:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 15:51:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1123 ms
2025-08-01 15:51:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 15:51:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 15:51:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 15:51:16 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 15:51:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 15:51:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 15:51:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 15:51:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 15:51:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 15:51:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 15:51:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 15:51:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 15:51:18 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 15:51:18 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 15:51:18 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 15:51:18 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 15:51:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 15:51:19 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 15:51:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ed65c99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@537bdff0, org.springframework.security.web.context.SecurityContextHolderFilter@59c476cc, org.springframework.security.web.header.HeaderWriterFilter@67b37f23, org.springframework.web.filter.CorsFilter@2229ce7e, org.springframework.security.web.csrf.CsrfFilter@4c2aa4db, org.springframework.security.web.authentication.logout.LogoutFilter@41acbb51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fe956e8, org.springframework.security.web.session.ConcurrentSessionFilter@30417948, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@631b2f72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732301d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f124a, org.springframework.security.web.session.SessionManagementFilter@2cf3b679, org.springframework.security.web.access.ExceptionTranslationFilter@b0713c9, org.springframework.security.web.access.intercept.AuthorizationFilter@37b0cfae]
2025-08-01 15:51:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 15:51:19 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.934 seconds (process running for 5.227)
2025-08-01 15:51:19 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 15:51:19 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:51:19 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:51:19 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 15:51:19 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 15:51:19 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 15:51:19 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 15:51:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 15:51:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 15:51:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 15:51:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 15:51:30 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 15:51:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:51:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 05B6E84C11D25332AE876DF213199033
2025-08-01 15:51:30 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/admin/email-templates/edit/registration-confirmation' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 15:51:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/email-templates/edit/registration-confirmation?continue to session
2025-08-01 15:51:30 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/admin/login
2025-08-01 15:51:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/login
2025-08-01 15:51:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:51:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/login
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/login
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 6913DD5F829F7F3A7C0F417A57041D8B
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session C4FCD988FF29701CAAD4C132D910DBA3, for principal org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7b830ad4]
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]
2025-08-01 15:51:51 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /admin
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String com.treasurehunt.controller.AdminController.dashboard(org.springframework.ui.Model); target is of class [com.treasurehunt.controller.AdminController]
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG c.t.controller.AdminController - Loading admin dashboard
2025-08-01 15:51:51 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching all treasure hunt plans for admin
2025-08-01 15:51:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates
2025-08-01 15:51:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:51:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates
2025-08-01 15:51:57 [http-nio-8080-exec-5] INFO  c.t.c.EmailTemplateController - Displaying email template management dashboard
2025-08-01 15:52:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/email-templates/edit/registration-confirmation
2025-08-01 15:52:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/email-templates/edit/registration-confirmation
2025-08-01 15:52:05 [http-nio-8080-exec-6] INFO  c.t.c.EmailTemplateController - Editing template: registration-confirmation
2025-08-01 15:52:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:52:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /admin/email-templates/preview/registration-confirmation
2025-08-01 15:52:12 [http-nio-8080-exec-7] INFO  c.t.c.EmailTemplateController - Previewing template: registration-confirmation
2025-08-01 15:52:19 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 15:52:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:52:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 15:52:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:52:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 15:52:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 15:52:38 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:53:19 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:54:19 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:54:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 15:54:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 15:54:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 15:54:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 15:54:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:55:19 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:56:19 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:56:19 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:57:19 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:58:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 15:58:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 15:58:06 [http-nio-8080-exec-7] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: test@example.com
2025-08-01 15:58:06 [http-nio-8080-exec-7] WARN  c.t.c.RegistrationController - File validation error: Passport photo is required
2025-08-01 15:58:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6913DD5F829F7F3A7C0F417A57041D8B], Granted Authorities=[ROLE_ADMIN]]]
2025-08-01 15:58:19 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:59:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 15:59:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 15:59:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 15:59:14 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 23352 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 15:59:14 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 15:59:14 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 15:59:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 15:59:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 6 JPA repository interfaces.
2025-08-01 15:59:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 15:59:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 15:59:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 15:59:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 15:59:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1093 ms
2025-08-01 15:59:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 15:59:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 15:59:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 15:59:15 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 15:59:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 15:59:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 15:59:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 15:59:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 15:59:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 15:59:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 15:59:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 15:59:16 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 15:59:17 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 15:59:17 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 15:59:17 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 15:59:17 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 15:59:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 15:59:18 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 15:59:18 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ed65c99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@537bdff0, org.springframework.security.web.context.SecurityContextHolderFilter@59c476cc, org.springframework.security.web.header.HeaderWriterFilter@67b37f23, org.springframework.web.filter.CorsFilter@2229ce7e, org.springframework.security.web.csrf.CsrfFilter@4c2aa4db, org.springframework.security.web.authentication.logout.LogoutFilter@41acbb51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fe956e8, org.springframework.security.web.session.ConcurrentSessionFilter@30417948, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@631b2f72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732301d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f124a, org.springframework.security.web.session.SessionManagementFilter@2cf3b679, org.springframework.security.web.access.ExceptionTranslationFilter@b0713c9, org.springframework.security.web.access.intercept.AuthorizationFilter@37b0cfae]
2025-08-01 15:59:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 15:59:18 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.918 seconds (process running for 5.213)
2025-08-01 15:59:18 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 15:59:18 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 15:59:18 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 15:59:18 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 15:59:18 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 15:59:18 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 15:59:18 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 15:59:34 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 15:59:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 15:59:34 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 15:59:34 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 15:59:34 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:59:34 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 15:59:34 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 15:59:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 15:59:43 [http-nio-8080-exec-5] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 16:00:18 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:01:18 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:01:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 16:01:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:01:24 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:01:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 16:01:24 [http-nio-8080-exec-9] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: test@example.com
2025-08-01 16:01:24 [http-nio-8080-exec-9] ERROR c.t.c.RegistrationController - Error processing registration
java.lang.NullPointerException: Cannot invoke "org.springframework.web.multipart.MultipartFile.getSize()" because "photoFile" is null
	at com.treasurehunt.controller.RegistrationController.validateFileUploads(RegistrationController.java:234)
	at com.treasurehunt.controller.RegistrationController.submitRegistration(RegistrationController.java:82)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 16:02:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:02:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 16:02:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 16:02:21 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 3468 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 16:02:21 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 16:02:21 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 16:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 16:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-08-01 16:02:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 16:02:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 16:02:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 16:02:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 16:02:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1165 ms
2025-08-01 16:02:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 16:02:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 16:02:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 16:02:22 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 16:02:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 16:02:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 16:02:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 16:02:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 16:02:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 16:02:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 16:02:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:02:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 16:02:24 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 16:02:24 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 16:02:24 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 16:02:24 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 16:02:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 16:02:25 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 16:02:25 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@537bdff0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2229ce7e, org.springframework.security.web.context.SecurityContextHolderFilter@5caf0976, org.springframework.security.web.header.HeaderWriterFilter@1fd97710, org.springframework.web.filter.CorsFilter@13f124a, org.springframework.security.web.csrf.CsrfFilter@2058633e, org.springframework.security.web.authentication.logout.LogoutFilter@3e0c4b29, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a22e843, org.springframework.security.web.session.ConcurrentSessionFilter@67ebf27a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@732301d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@92b6b6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d21b460, org.springframework.security.web.session.SessionManagementFilter@5ac26d56, org.springframework.security.web.access.ExceptionTranslationFilter@208ac9b8, org.springframework.security.web.access.intercept.AuthorizationFilter@1fe956e8]
2025-08-01 16:02:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 16:02:25 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 5.054 seconds (process running for 5.335)
2025-08-01 16:02:25 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 16:02:25 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:02:25 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:02:26 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 16:02:26 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 16:02:26 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 16:02:26 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 16:02:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 16:02:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 16:02:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 16:02:43 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:02:43 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:02:43 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:02:43 [http-nio-8080-exec-4] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:02:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:43 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 16:02:54 [http-nio-8080-exec-8] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 16:03:25 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:04:25 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:04:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 16:04:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:04:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:04:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 16:04:40 [http-nio-8080-exec-6] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: test@example.com
2025-08-01 16:04:40 [http-nio-8080-exec-6] ERROR c.t.c.RegistrationController - Error processing registration
java.lang.NullPointerException: Cannot invoke "org.springframework.web.multipart.MultipartFile.getContentType()" because "photoFile" is null
	at com.treasurehunt.controller.RegistrationController.validateFileUploads(RegistrationController.java:250)
	at com.treasurehunt.controller.RegistrationController.submitRegistration(RegistrationController.java:82)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-08-01 16:05:25 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:05:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:05:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 16:05:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 16:05:55 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 23084 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 16:05:55 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 16:05:55 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 16:05:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 16:05:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 6 JPA repository interfaces.
2025-08-01 16:05:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 16:05:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 16:05:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 16:05:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 16:05:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1099 ms
2025-08-01 16:05:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 16:05:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 16:05:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 16:05:57 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 16:05:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 16:05:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 16:05:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 16:05:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 16:05:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 16:05:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 16:05:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:05:58 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Users\sai\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GIT_PAGER = cat
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_PROJECTBASEDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =C: = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_CMD_LINE_ARGS = spring-boot:run
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: jvmConfig = \.mvn\jvm.config
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ERROR_CODE = 0
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROMPT = $P$G
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PAGER = cat
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EXEC_DIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_JAR = "C:\Users\sai\Downloads\apache-maven-3.9.11\boot\plexus-classworlds-2.9.0.jar"
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLASSWORLDS_LAUNCHER = org.codehaus.plexus.classworlds.launcher.Launcher
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_OPTS = --enable-native-access=ALL-UNNAMED 
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: MAVEN_HOME = C:\Users\sai\Downloads\apache-maven-3.9.11
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LESS = -FX
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =ExitCode = 00000000
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: JAVACMD = C:\Program Files\Common Files\Oracle\Java\javapath\java.exe
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: WDIR = C:\Users\sai\Desktop\MySillyDreams\treasure
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 16:05:59 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 16:05:59 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 16:05:59 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 16:05:59 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 16:05:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 16:05:59 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 16:06:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ed65c99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@537bdff0, org.springframework.security.web.context.SecurityContextHolderFilter@59c476cc, org.springframework.security.web.header.HeaderWriterFilter@67b37f23, org.springframework.web.filter.CorsFilter@2229ce7e, org.springframework.security.web.csrf.CsrfFilter@4c2aa4db, org.springframework.security.web.authentication.logout.LogoutFilter@41acbb51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fe956e8, org.springframework.security.web.session.ConcurrentSessionFilter@30417948, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@631b2f72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732301d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f124a, org.springframework.security.web.session.SessionManagementFilter@2cf3b679, org.springframework.security.web.access.ExceptionTranslationFilter@b0713c9, org.springframework.security.web.access.intercept.AuthorizationFilter@37b0cfae]
2025-08-01 16:06:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 16:06:00 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 4.908 seconds (process running for 5.187)
2025-08-01 16:06:00 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 16:06:00 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:06:00 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:06:00 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 16:06:00 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 16:06:00 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 16:06:00 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 16:06:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 16:06:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 16:06:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 16:06:16 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:06:16 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:06:16 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:06:17 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:06:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/1
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/1
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - API request for plan with ID: 1
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 16:06:24 [http-nio-8080-exec-3] DEBUG c.t.controller.HomeController - Found plan with ID: 1
2025-08-01 16:07:00 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:08:00 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:09:00 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/register
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C4FCD988FF29701CAAD4C132D910DBA3
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/register
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Processing registration submission for plan ID: 1 and email: test@example.com
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Creating new registration for plan ID: 1 and email: test@example.com
2025-08-01 16:09:44 [http-nio-8080-exec-4] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing registration confirmation emails for registration ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing registration email for registration ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued registration confirmation email for individual registration
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queuing admin notification email for registration ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.EmailQueueService - Queuing email to: tresurhunting@gmail.com with subject: 📋 New Registration: Test User
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Queued admin notification email
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.service.RegistrationService - Successfully created registration with ID: 1
2025-08-01 16:09:44 [http-nio-8080-exec-4] INFO  c.t.c.RegistrationController - Successfully created registration with ID: 1
2025-08-01 16:10:00 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:10:00 [Async-1] INFO  c.t.service.EmailQueueService - Found 2 emails ready to send
2025-08-01 16:10:00 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 1 to: test@example.com
2025-08-01 16:10:01 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 1
2025-08-01 16:10:01 [Async-1] INFO  c.t.service.EmailQueueService - Sending email ID: 2 to: tresurhunting@gmail.com
2025-08-01 16:10:02 [Async-1] INFO  c.t.service.EmailQueueService - Successfully sent email ID: 2
2025-08-01 16:11:00 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:11:00 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:12:00 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:13:00 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:14:00 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:14:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:14:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 16:14:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-01 16:15:01 [main] INFO  c.t.TreasureHuntApplication - Starting TreasureHuntApplication using Java 21.0.8 with PID 25984 (C:\Users\sai\Desktop\MySillyDreams\treasure\target\classes started by sai in C:\Users\sai\Desktop\MySillyDreams\treasure)
2025-08-01 16:15:01 [main] DEBUG c.t.TreasureHuntApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-01 16:15:01 [main] INFO  c.t.TreasureHuntApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-01 16:15:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-01 16:15:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 148 ms. Found 6 JPA repository interfaces.
2025-08-01 16:15:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-01 16:15:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-01 16:15:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-01 16:15:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-01 16:15:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2683 ms
2025-08-01 16:15:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-01 16:15:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:treasure_hunt_db user=SA
2025-08-01 16:15:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-01 16:15:04 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:treasure_hunt_db'
2025-08-01 16:15:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-01 16:15:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-08-01 16:15:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-01 16:15:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-01 16:15:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-01 16:15:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-01 16:15:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 16:15:07 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: =:: = ::\
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemRoot = C:\Windows
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_FROM = tresurhunting@gmail.com
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyInstall = C:\ProgramData\chocolatey
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles(x86) = C:\Program Files (x86)
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramW6432 = C:\Program Files
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APPDATA = C:\Users\sai\AppData\Roaming
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ALLUSERSPROFILE = C:\ProgramData
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IntelliJ IDEA Community Edition = C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: COMPUTERNAME = sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEDRIVE = C:
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN_ROAMINGPROFILE = sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_IDENTIFIER = AMD64 Family 25 Model 17 Stepping 1, AuthenticAMD
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_LEVEL = 25
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OS = Windows_NT
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TEMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramW6432 = C:\Program Files\Common Files
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOGONSERVER = \\sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1262719628 = 1
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ChocolateyLastPathUpdate = 133979410233531951
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramFiles = C:\Program Files
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERDOMAIN = sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERNAME = sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ComSpec = C:\Windows\system32\cmd.exe
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_USER_PROFILE_STRING = Default
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: USERPROFILE = C:\Users\sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2283032206 = 1
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_COMPANY_NAME = Treasure Hunt Adventures
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: FPS_BROWSER_APP_PROFILE_STRING = Internet Explorer
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_REVISION = 1101
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: LOCALAPPDATA = C:\Users\sai\AppData\Local
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: TMP = C:\Users\sai\AppData\Local\Temp
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: NUMBER_OF_PROCESSORS = 16
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_MOCK_ENABLED = false
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: DriverData = C:\Windows\System32\Drivers\DriverData
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: IJ_RESTARTER_LOG = C:\Users\sai\AppData\Local\JetBrains\IdeaIC2025.1\log\restarter.log
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_3789132940 = 1
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PSModulePath = C:\Program Files\WindowsPowerShell\Modules;C:\Windows\system32\WindowsPowerShell\v1.0\Modules
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SystemDrive = C:
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: HOMEPATH = \Users\sai
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PROCESSOR_ARCHITECTURE = AMD64
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_2775293581 = 1
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: EFC_8128_1592913036 = 1
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_USERNAME = tresurhunting@gmail.com
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: ProgramData = C:\ProgramData
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: OneDrive = C:\Users\sai\OneDrive
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: APP_EMAIL_SUPPORT = tresurhunting@gmail.com
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: Path = C:\Python313\Scripts\;C:\Python313\;C:\Program Files\Common Files\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\Git\cmd;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Users\sai\Downloads\apache-maven-3.9.11\bin;;C:\Program Files\Docker\Docker\resources\bin;C:\Users\sai\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2025.1.4.1\bin;;C:\Users\sai\AppData\Roaming\npm
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: GMAIL_PASSWORD = ***
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: SESSIONNAME = RDP-Tcp#0
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PUBLIC = C:\Users\Public
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CLIENTNAME = EPINHYDW0FF2
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: PATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles(x86) = C:\Program Files (x86)\Common Files
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: windir = C:\Windows
2025-08-01 16:15:08 [main] DEBUG c.t.config.EnvironmentConfig - Loaded environment variable: CommonProgramFiles = C:\Program Files\Common Files
2025-08-01 16:15:08 [main] INFO  c.t.config.EnvironmentConfig - Environment variables loaded successfully from .env file
2025-08-01 16:15:08 [main] INFO  c.t.config.EnvironmentConfig - Gmail SMTP configured for: tresurhunting@gmail.com
2025-08-01 16:15:08 [main] INFO  c.t.service.FileStorageService - File storage location initialized: C:\Users\sai\Desktop\MySillyDreams\treasure\uploads\documents
2025-08-01 16:15:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-01 16:15:09 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-01 16:15:09 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c3e4055, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3df9100b, org.springframework.security.web.context.SecurityContextHolderFilter@16546eba, org.springframework.security.web.header.HeaderWriterFilter@42306a87, org.springframework.web.filter.CorsFilter@2eb4fe7, org.springframework.security.web.csrf.CsrfFilter@728dfa37, org.springframework.security.web.authentication.logout.LogoutFilter@28cece17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b2dd3c, org.springframework.security.web.session.ConcurrentSessionFilter@3e0c4b29, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69d58b75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a450fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c9e7377, org.springframework.security.web.session.SessionManagementFilter@3344bc4, org.springframework.security.web.access.ExceptionTranslationFilter@2ed537a9, org.springframework.security.web.access.intercept.AuthorizationFilter@552c6d99]
2025-08-01 16:15:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-08-01 16:15:10 [main] INFO  c.t.TreasureHuntApplication - Started TreasureHuntApplication in 9.133 seconds (process running for 9.558)
2025-08-01 16:15:10 [main] INFO  c.t.config.DataInitializer - Initializing sample data...
2025-08-01 16:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:15:10 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Urban Explorer
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 1
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Park Adventure
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 2
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Mystery of the Lost Museum
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 3
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Downtown Detective
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 4
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: The Ultimate Challenge
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 5
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Creating new treasure hunt plan: Nighttime Expedition
2025-08-01 16:15:10 [main] INFO  c.t.service.TreasureHuntPlanService - Successfully created treasure hunt plan with ID: 6
2025-08-01 16:15:10 [main] INFO  c.t.config.DataInitializer - Created 6 sample treasure hunt plans
2025-08-01 16:15:10 [main] INFO  c.t.config.DataInitializer - Sample data initialization completed successfully
2025-08-01 16:15:21 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-01 16:15:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-01 16:15:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-01 16:15:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-01 16:15:21 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:15:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:21 [http-nio-8080-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-01 16:15:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-01 16:15:21 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Displaying home page
2025-08-01 16:15:21 [http-nio-8080-exec-1] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:15:22 [http-nio-8080-exec-1] DEBUG c.t.controller.HomeController - Found 6 available plans for home page
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/treasure-hunt-hero.jpg
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/about-treasure-hunt.jpg
2025-08-01 16:15:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/style.css
2025-08-01 16:15:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/app.js
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/app.js
2025-08-01 16:15:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/style.css
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/treasure-hunt-hero.jpg
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/about-treasure-hunt.jpg
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-01 16:15:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - API request for available plans
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plans
2025-08-01 16:15:22 [http-nio-8080-exec-6] DEBUG c.t.controller.HomeController - Returning 6 available plans via API
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/plans/2
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/plans/2
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - API request for plan with ID: 2
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG c.t.service.TreasureHuntPlanService - Fetching available treasure hunt plan with ID: 2
2025-08-01 16:15:28 [http-nio-8080-exec-7] DEBUG c.t.controller.HomeController - Found plan with ID: 2
2025-08-01 16:16:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:17:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:18:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:19:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:21:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:22:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:23:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:24:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:26:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:27:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:28:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:29:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:31:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:32:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:33:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:34:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:36:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:37:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:38:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:39:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:46:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:47:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:48:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:49:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:50:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:50:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:51:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:52:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:53:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:54:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:55:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 16:55:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:56:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:57:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:58:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 16:59:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:00:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:00:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:01:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:02:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:03:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:04:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:05:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:05:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:06:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:07:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:08:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:09:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:10:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:10:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:11:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:12:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:13:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:14:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:15:10 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 17:16:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:17:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:18:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:19:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:21:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:22:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:23:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:24:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:26:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:27:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:28:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:29:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:31:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:32:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:33:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:34:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:36:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:37:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:38:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:39:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:46:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:47:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:48:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:49:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:50:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:50:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:51:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:52:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:53:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:54:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:55:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 17:55:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:56:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:57:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:58:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 17:59:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:00:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:00:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:01:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:02:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:03:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:04:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:05:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:05:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:06:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:07:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:08:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:09:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:10:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:10:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:11:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:12:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:13:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:14:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:15:10 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 18:16:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:17:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:18:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:19:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:21:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:22:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:23:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:24:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:26:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:27:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:28:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:29:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:31:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:32:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:33:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:34:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:36:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:37:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:38:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:39:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:46:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:47:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:48:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:49:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:50:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:50:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:51:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:52:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:53:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:54:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:55:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:55:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 18:56:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:57:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:58:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 18:59:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:00:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:00:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:01:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:02:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:03:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:04:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:05:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:05:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:06:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:07:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:08:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:09:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:10:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:10:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:11:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:12:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:13:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:14:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:15:10 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 19:16:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:17:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:18:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:19:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:21:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:22:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:23:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:24:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:26:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:27:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:28:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:29:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:31:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:32:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:33:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:34:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:36:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:37:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:38:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:39:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:46:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:47:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:48:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:49:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:50:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:50:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:51:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:52:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:53:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:54:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:55:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 19:55:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:56:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:57:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:58:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 19:59:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:00:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:00:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:01:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:02:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:03:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:04:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:05:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:05:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:06:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:07:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:08:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:09:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:10:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:10:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:11:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:12:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:13:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:14:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:15:10 [Async-2] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 20:16:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:17:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:18:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:19:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:21:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:22:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:23:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:24:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:26:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:27:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:28:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:29:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:31:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:32:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:33:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:34:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:36:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:37:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:38:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:39:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:46:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:47:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:48:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:49:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:50:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:50:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:51:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:52:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:53:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:54:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:55:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:55:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 20:56:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:57:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:58:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 20:59:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:00:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:00:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:01:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:02:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:03:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:04:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:05:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:05:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:06:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:07:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:08:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:09:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:10:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:10:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:11:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:12:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:13:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:14:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:15:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:15:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:15:10 [Async-1] DEBUG c.t.service.EmailCampaignService - Processing scheduled campaigns...
2025-08-01 21:16:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:17:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:18:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:19:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:20:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:20:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:21:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:22:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:23:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:24:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:25:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:25:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:26:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:27:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:28:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:29:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:30:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:30:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:31:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:32:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:33:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:34:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:35:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:35:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:36:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:37:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:38:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:39:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:40:10 [Async-2] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:40:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:41:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:42:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:43:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:44:10 [Async-1] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:45:10 [Async-1] DEBUG c.t.service.EmailQueueService - Checking for failed emails to retry...
2025-08-01 21:45:10 [Async-2] DEBUG c.t.service.EmailQueueService - Processing email queue...
2025-08-01 21:45:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-01 21:45:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-01 21:45:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
